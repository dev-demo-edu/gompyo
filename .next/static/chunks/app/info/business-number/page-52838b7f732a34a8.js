(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9024],{32921:(e,r,n)=>{"use strict";n.d(r,{Kg:()=>o,eg:()=>i,f3:()=>s,gt:()=>l,sg:()=>a,ye:()=>t});let t=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e.value):"",a=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let r=Number(e.value);if(isNaN(r))return"";let n=!Number.isInteger(r);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2*!!n,maximumFractionDigits:2*!!n}).format(r)},l=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.value)+"/kg":"",s=e=>e.value?new Date(e.value).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"}):"",i=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let r=Number(e.value);if(isNaN(r))return"";let n=Number(r.toFixed(1));return Number.isInteger(n)?n.toString():n.toFixed(1)},o=e=>{if(!e.value)return"";let r=new Date(e.value),n=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0");return"".concat(n,"/").concat(t,"/").concat(a)}},49344:(e,r,n)=>{"use strict";n.d(r,{A:()=>v});var t=n(22318),a=n(20926),l=n(92262),s=n(54069),i=n(2877),o=n(17859),u=n(51678),d=n(21768),c=n(60660),m=n(6987),b=n(27849),h=n(46558),x=n(71599),f=n(20063),p=n(90748);function g(e){return e.reduce((e,r)=>{var n,t,a;let l;return l="array"===r.type?null!==(n=r.defaultValue)&&void 0!==n?n:[]:"select"===r.type&&r.options&&r.options.length>0?null!==(t=r.defaultValue)&&void 0!==t?t:r.options[0].value:null!==(a=r.defaultValue)&&void 0!==a?a:"",{...e,[r.name]:l}},{})}function v(e){let{zodSchema:r,steps:n,fields:v,onSubmit:y,submitLabel:j="저장",zodSchemas:A,onCancel:C,fieldErrors:F={},initialValues:N={}}=e,w=!!n,[S,k]=(0,a.useState)(0),R=w?n[S].fields:v,[D,W]=(0,a.useState)(w?{...n.reduce((e,r)=>({...e,...g(r.fields)}),{}),...N}:{...g(v),...N}),[E,L]=(0,a.useState)({}),[z,M]=(0,a.useState)(!1),I=(e,r)=>{W(n=>({...n,[e]:r}))},T=e=>{W(r=>({...r,[e.name]:[...Array.isArray(r[e.name])?r[e.name]:[],g(e.fields)]}))},K=(e,r)=>{W(n=>({...n,[e.name]:Array.isArray(n[e.name])?n[e.name].filter((e,n)=>n!==r):[]}))},P=(e,r,n,t)=>{W(a=>({...a,[e.name]:Array.isArray(a[e.name])?a[e.name].map((e,a)=>a===r?{...e,[n]:t}:e):[]}))},U=e=>{let r={};return e.errors.forEach(e=>{r[e.path[0]]=e.message}),r},B=async e=>{let t;if(!z){if(e.preventDefault(),(t=w&&A?A[S].safeParse(D):r?r.safeParse(D):{success:!0,data:D})&&!t.success){L(U(t.error));return}L({}),M(!0);try{w&&S<n.length-1?k(e=>e+1):await y(D)}finally{M(!1)}}},V=(e,r,n,x,g)=>{let v=F[e.name]||x;switch(e.type){case"text":case"number":case"date":return(0,t.jsx)(s.A,{label:e.label,name:e.name,type:"number"===e.type?"number":e.type,value:r,onChange:r=>n("number"===e.type?Number(r.target.value):r.target.value),fullWidth:!0,error:!!v,helperText:v||e.helperText,InputLabelProps:"date"===e.type?{shrink:!0}:void 0,InputProps:e.endAdornment?{endAdornment:(0,t.jsx)(i.A,{sx:{color:"inherit","& .MuiTypography-root":{color:"inherit"}},position:"end",children:e.endAdornment})}:void 0,sx:{mb:1}},e.name+(null!=g?g:""));case"select":var y;return(0,t.jsxs)(o.A,{fullWidth:!0,error:!!v,sx:{mb:1},children:[(0,t.jsx)(u.A,{children:e.label}),(0,t.jsx)(d.A,{value:r,label:e.label,onChange:e=>n(e.target.value),children:null===(y=e.options)||void 0===y?void 0:y.map(e=>(0,t.jsx)(c.A,{value:e.value,children:e.label},e.value))}),v&&(0,t.jsx)(m.A,{color:"error",variant:"caption",children:v})]},e.name+(null!=g?g:""));case"array":return(0,t.jsxs)(b.A,{sx:{mb:2},children:[(0,t.jsxs)(b.A,{display:"flex",alignItems:"center",mb:1,children:[(0,t.jsx)(m.A,{variant:"subtitle1",children:e.label}),(0,t.jsx)(h.A,{size:"small",onClick:()=>T(e),sx:{ml:1},children:(0,t.jsx)(f.A,{fontSize:"small"})})]}),(Array.isArray(r)?r:[]).map((r,n)=>(0,t.jsxs)(b.A,{sx:{border:"1px solid #eee",borderRadius:1,p:2,mb:1},children:[(0,t.jsxs)(b.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsxs)(m.A,{variant:"body2",children:[e.label," #",n+1]}),(0,t.jsx)(h.A,{size:"small",onClick:()=>K(e,n),children:(0,t.jsx)(p.A,{fontSize:"small"})})]}),function(e){var r;let{field:n,item:b,onChange:h,errors:x}=e;return(0,t.jsx)(l.A,{spacing:1,mt:1,children:null===(r=n.fields)||void 0===r?void 0:r.map(e=>{let r=b[e.name];return(0,t.jsx)(a.Fragment,{children:(()=>{switch(e.type){case"text":case"number":case"date":return(0,t.jsx)(s.A,{label:e.label,name:e.name,type:"number"===e.type?"number":e.type,value:r,onChange:r=>h(e.name,"number"===e.type?Number(r.target.value):r.target.value),fullWidth:!0,error:!!x[e.name],helperText:x[e.name]||e.helperText,InputLabelProps:"date"===e.type?{shrink:!0}:void 0,InputProps:e.endAdornment?{endAdornment:(0,t.jsx)(i.A,{sx:{color:"inherit","& .MuiTypography-root":{color:"inherit"}},position:"end",children:e.endAdornment})}:void 0,sx:{mb:1}});case"select":var n;return(0,t.jsxs)(o.A,{fullWidth:!0,error:!!x[e.name],sx:{mb:1},children:[(0,t.jsx)(u.A,{children:e.label}),(0,t.jsx)(d.A,{value:r,label:e.label,onChange:r=>h(e.name,r.target.value),children:null===(n=e.options)||void 0===n?void 0:n.map(e=>(0,t.jsx)(c.A,{value:e.value,children:e.label},e.value))}),x[e.name]&&(0,t.jsx)(m.A,{color:"error",variant:"caption",children:x[e.name]})]});case"custom":return e.render?e.render({value:r,onChange:r=>h(e.name,r),error:x[e.name]}):null;default:return null}})()},e.name)})})}({field:e,item:r,onChange:(r,t)=>P(e,n,r,t),errors:{}})]},n))]},e.name);case"custom":return e.render?e.render({value:r,onChange:n,error:v}):null;default:return null}};return(0,t.jsxs)("form",{onSubmit:B,children:[w&&(0,t.jsx)(m.A,{variant:"h6",sx:{mb:2},children:n[S].label}),(0,t.jsx)(l.A,{spacing:2,sx:{mt:1},children:R.map(e=>V(e,D[e.name],r=>I(e.name,r),E[e.name]))}),(0,t.jsxs)(b.A,{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:2,mt:2,children:[w&&S>0&&(0,t.jsx)(x.A,{variant:"outlined",color:"primary",onClick:()=>k(e=>e-1),children:"이전"}),"function"==typeof C&&(0,t.jsx)(x.A,{variant:"outlined",color:"primary",onClick:C,children:"취소"}),(0,t.jsx)(x.A,{type:"submit",variant:"contained",color:"primary",sx:{fontWeight:600},disabled:z,children:w&&S<n.length-1?"다음":j})]})]})}},53282:(e,r,n)=>{"use strict";n.d(r,{A:()=>l});var t=n(77348),a=n(22318);let l=(0,t.A)((0,a.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList")},75746:(e,r,n)=>{"use strict";n.d(r,{A:()=>s});var t=n(22318),a=n(71599);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary",r=arguments.length>1?arguments[1]:void 0,n={fontWeight:600,border:"1px solid",boxShadow:"none",whiteSpace:"nowrap","&:disabled":{backgroundColor:"#9CA3AF",color:"#FFFFFF"}};switch(e){case"primary":return{...n,backgroundColor:"#22C55E",color:"#FFFFFF","&:hover":{backgroundColor:"#16A34A"}};case"inherit":return{whiteSpace:"nowrap"};case"secondary":return{...n,backgroundColor:r?"#f3f4f6":"#64748b",color:r?"#374151":"#FFFFFF",border:r?"1px solid #cbd5e1":"none","&:hover":{backgroundColor:r?"#e5e7eb":"#475569"}};case"danger":return{...n,backgroundColor:"#EF4444",color:"#FFFFFF","&:hover":{backgroundColor:"#DC2626"}};case"info":return{...n,backgroundColor:"#3B82F6",color:"#FFFFFF","&:hover":{backgroundColor:"#2563EB"}};case"special":return{...n,backgroundColor:"#6366F1",color:"#FFFFFF","&:hover":{backgroundColor:"#4F46E5"}};case"outline":return{...n,backgroundColor:"transparent",borderColor:"primary",color:"#22C55E","&:hover":{backgroundColor:"#F9FAFB",borderColor:"primary"},"&:disabled":{backgroundColor:"transparent",borderColor:"#9CA3AF",color:"#9CA3AF"}};case"outline-danger":return{...n,backgroundColor:"transparent",borderColor:"#EF4444",color:"#EF4444","&:hover":{backgroundColor:"#FEF2F2",borderColor:"#DC2626",color:"#DC2626"},"&:disabled":{backgroundColor:"transparent",borderColor:"#9CA3AF",color:"#9CA3AF"}};default:return n}};function s(e){let{variant:r="primary",children:n,minWidth:s,sx:i,editMode:o=!1,...u}=e,d=l(r,o),c=r.includes("outline");return(0,t.jsx)(a.A,{variant:"inherit"===r?"contained":c?"outlined":"contained",color:"inherit"===r?"inherit":"primary",sx:{...d,minWidth:s,...i},...u,children:n})}},77369:(e,r,n)=>{"use strict";n.d(r,{A:()=>m});var t=n(22318),a=n(20926),l=n(74676),s=n(53282),i=n(83783),o=n(93502),u=n(97482);n(11971);var d=n(66292);function c(e){return new Date(e).toISOString().slice(0,10)}function m(e){let{columnDefs:r,data:n=[],loading:l=!1,error:m=null,onDragStarted:b,onDragStopped:h,onResetColumnOrder:x,onSelectionChanged:f,searchDateField:p}=e,[g,v]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[A,C]=(0,a.useState)(""),[F,N]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!0),k=(0,a.useMemo)(()=>n.filter(e=>{let n=!g||r.some(r=>{let n=r.field;if(!n)return!1;let t=e[n];return t&&t.toString().toLowerCase().includes(g.toLowerCase())});if(p){let r=c(e[p]),t=y?c(y):null,a=A?c(A):null;if(t&&a)return n&&r>=t&&r<=a;if(t)return n&&r>=t;if(a)return n&&r<=a}return n}),[n,g,y,A,r,p]);return(0,t.jsxs)("div",{className:"flex flex-col md:flex-row w-full h-[900px] md:h-full bg-transparent rounded-xl overflow-hidden shadow-lg  gap-6",children:[(0,t.jsxs)("button",{onClick:()=>{let e=!F;N(e),e&&S(!1)},className:"md:hidden flex items-center justify-center gap-2 mb-4 px-4 py-2 bg-white rounded-lg shadow-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,t.jsx)(s.A,{className:"w-5 h-5"}),(0,t.jsxs)("span",{children:["필터 ",F?"숨기기":"보기"]})]}),(0,t.jsxs)("div",{className:"relative transition-all duration-300 p-6 space-y-6\n        ".concat(F?"block":"hidden md:block","\n        ").concat(w?"w-12 bg-transparent":"w-full md:w-80 bg-white rounded-xl shadow-sm","\n        md:shrink-0 overflow-auto"),children:[(0,t.jsx)("button",{onClick:()=>S(e=>!e),className:"absolute right-2 top-2 w-8 h-8 bg-white text-gray-600 rounded-full shadow-md hover:bg-gray-300 transition z-10 hidden md:block",children:w?(0,t.jsx)(i.A,{}):(0,t.jsx)(o.A,{})}),!w&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"필터"}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"검색어"}),(0,t.jsx)("input",{type:"text",placeholder:"검색어를 입력하세요",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:g,onChange:e=>v(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"조회 기간"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 mb-3",value:y,onChange:e=>j(e.target.value)}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:A,onChange:e=>C(e.target.value)})]}),x&&(0,t.jsxs)("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,t.jsx)(u.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"컬럼 순서 초기화"})]})]})]})]}),(0,t.jsx)("div",{className:"flex-1 bg-white rounded-xl shadow-sm overflow-hidden min-h-[400px] md:h-full",children:(0,t.jsx)(d.A,{columnDefs:r,data:k,loading:l,error:m,onDragStarted:b,onDragStopped:h,onSelectionChanged:f,pagination:!1})})]})}l.syG.registerModules([l.JKr])},79005:(e,r,n)=>{Promise.resolve().then(n.bind(n,96213))},83783:(e,r,n)=>{"use strict";n.d(r,{A:()=>l});var t=n(77348),a=n(22318);let l=(0,t.A)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},93502:(e,r,n)=>{"use strict";n.d(r,{A:()=>l});var t=n(77348),a=n(22318);let l=(0,t.A)((0,a.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft")},96213:(e,r,n)=>{"use strict";n.d(r,{default:()=>E});var t=n(22318),a=n(20926),l=n(86956),s=n(49812);let i=(0,s.eU)([]),o=(0,s.eU)(0);var u=n(77369),d=n(32921),c=n(64358);let m=(0,c.createServerReference)("003e6e82a652664898b4ae0a9990a764f8b04d82a9",c.callServer,void 0,c.findSourceMapURL,"getBusinessNumbers");function b(){let[e,r]=(0,a.useState)([]),n=(0,l.md)(o),[s,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{c(!0),r(await m()),c(!1)})()},[n]);let b=(0,a.useMemo)(()=>[{headerName:"",checkboxSelection:!0,minWidth:50,flex:1,headerCheckboxSelection:!0,filter:!1,pinned:"left",lockPinned:!0,width:70,field:"checkbox"},{headerName:"사업자번호",field:"businessNumber",minWidth:180,flex:1},{headerName:"사업자명",field:"businessName",minWidth:120,flex:1},{headerName:"사업자대표자",field:"businessRepresentative",minWidth:120,flex:1},{headerName:"등록일",field:"createdAt",minWidth:120,valueFormatter:d.Kg,flex:1}],[]),h=(0,l.Xr)(i),x=(0,a.useCallback)(e=>{h(e.api.getSelectedRows())},[h]);return(0,t.jsx)(u.A,{columnDefs:b,data:e,onSelectionChanged:x,searchDateField:"createdAt",loading:s})}var h=n(92262),x=n(40017),f=n(57797),p=n(89085),g=n(57598),v=n(49344),y=n(60720);let j=(0,c.createServerReference)("405d70b265434840ecf88201a849524e011c10f396",c.callServer,void 0,c.findSourceMapURL,"addBusinessNumber"),A=(0,c.createServerReference)("40004da2ee53ed816abbd7a5e6502f7b38fc68f210",c.callServer,void 0,c.findSourceMapURL,"updateBusinessNumber"),C=y.z.object({businessNumber:y.z.string().min(1,"사업자번호를 입력해주세요."),businessName:y.z.string().min(1,"사업자명을 입력해주세요."),businessRepresentative:y.z.string().min(1,"사업자대표자를 입력해주세요.")}),F=[{name:"businessNumber",label:"사업자번호",type:"text",required:!0},{name:"businessName",label:"사업자명",type:"text",required:!0},{name:"businessRepresentative",label:"사업자대표자",type:"text",required:!0}];function N(e){let{onClose:r,submitLabel:n="저장"}=e,s=(0,l.Xr)(o),[i,u]=(0,a.useState)({}),d=async e=>{try{await j(e),s(e=>e+1),u({}),null==r||r()}catch(e){e instanceof Error?u({businessNumber:e.message}):u({businessNumber:"오류가 발생했습니다."})}};return(0,t.jsx)(v.A,{fields:F,onSubmit:d,submitLabel:n,zodSchema:C,fieldErrors:i})}function w(e){let{onClose:r,submitLabel:n="수정"}=e,s=(0,l.Xr)(o),[u,d]=(0,a.useState)({}),c=(0,l.md)(i),m=async e=>{if(!c){d({businessNumber:"수정할 내역이 선택되지 않았습니다."});return}try{await A({...e,id:c[0].id}),s(e=>e+1),d({}),null==r||r()}catch(e){e instanceof Error?d({businessNumber:e.message}):d({businessNumber:"오류가 발생했습니다."})}};return(0,t.jsx)(v.A,{fields:F,onSubmit:m,submitLabel:n,zodSchema:C,fieldErrors:u,initialValues:{businessNumber:c[0].businessNumber,businessName:c[0].businessName,businessRepresentative:c[0].businessRepresentative}})}let S=(0,c.createServerReference)("40a64418b2b9c0192b867995ba9e531c2ce68d36cd",c.callServer,void 0,c.findSourceMapURL,"deleteBusinessNumbers");var k=n(75746);function R(e){let{open:r,onClose:n}=e;return(0,t.jsxs)(x.A,{open:r,onClose:n,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(f.A,{children:"사업자 번호 추가"}),(0,t.jsx)(p.A,{children:(0,t.jsx)(N,{onClose:n})})]})}function D(e){let{open:r,onClose:n}=e;return(0,t.jsxs)(x.A,{open:r,onClose:n,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(f.A,{children:"사업자 번호 수정"}),(0,t.jsx)(p.A,{children:(0,t.jsx)(w,{onClose:n})})]})}function W(e){let{open:r,onClose:n}=e,a=(0,l.md)(i),s=(0,l.Xr)(o);async function u(){await S(a.map(e=>e.id)),s(e=>e+1),n()}return(0,t.jsxs)(x.A,{open:r,onClose:n,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(f.A,{children:"계좌 삭제 확인"}),(0,t.jsx)(p.A,{sx:{py:3},children:"정말로 선택한 사업자 번호를 삭제하시겠습니까?"}),(0,t.jsxs)(g.A,{sx:{px:3,pb:2,pt:0,justifyContent:"flex-end"},children:[(0,t.jsx)(k.A,{variant:"outline",onClick:n,children:"취소"}),(0,t.jsx)(k.A,{variant:"outline-danger",onClick:u,children:"삭제"})]})]})}function E(){let e=(0,l.md)(i),r=(0,l.Xr)(i),[n,s]=(0,a.useState)(!1),[o,u]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{r([])},[]),(0,t.jsx)("div",{className:"w-full min-h-screen bg-gray-100",children:(0,t.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"사업자 번호 정보"}),(0,t.jsxs)(h.A,{direction:"row",spacing:2,className:"w-full justify-start mb-4 sm:mb-6 md:justify-end",children:[(0,t.jsx)(k.A,{variant:"info",onClick:e=>{e.currentTarget.blur(),s(!0)},children:"사업자 번호 추가"}),(0,t.jsx)(k.A,{variant:"primary",onClick:e=>{e.currentTarget.blur(),c(!0)},disabled:1!==e.length,children:"계좌 수정"}),(0,t.jsx)(k.A,{variant:"danger",disabled:0===e.length,onClick:e=>{e.currentTarget.blur(),u(!0)},children:"선택 삭제"})]}),(0,t.jsx)("div",{className:"overflow-auto md:h-[75vh]",children:(0,t.jsx)(b,{})}),(0,t.jsx)(R,{open:n,onClose:()=>s(!1)}),(0,t.jsx)(W,{open:o,onClose:()=>u(!1)}),(0,t.jsx)(D,{open:d,onClose:()=>c(!1)})]})})}},97482:(e,r,n)=>{"use strict";n.d(r,{A:()=>l});var t=n(77348),a=n(22318);let l=(0,t.A)((0,a.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")}},e=>{var r=r=>e(e.s=r);e.O(0,[1775,8082,7045,3336,4069,6510,4090,2394,6956,1971,9052,6292,9039,1077,7358],()=>r(79005)),_N_E=e.O()}]);
