(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{43987:(e,r,n)=>{"use strict";n.d(r,{default:()=>L});var s=n(22318),t=n(20926),a=n(86956),l=n(49812);let i=(0,l.eU)([]),o=(0,l.eU)(0);var d=n(77369),c=n(32921),u=n(64358);let m=(0,u.createServerReference)("000d9ecc1b3d853585ee4e6fb99dc51be969366de8",u.callServer,void 0,u.findSourceMapURL,"getBusinessNumbers");function h(){let[e,r]=(0,t.useState)([]),n=(0,a.md)(o);(0,t.useEffect)(()=>{(async()=>{r(await m())})()},[n]);let l=(0,t.useMemo)(()=>[{headerName:"",checkboxSelection:!0,minWidth:50,flex:1,headerCheckboxSelection:!0,filter:!1,pinned:"left",lockPinned:!0,width:70,field:"checkbox"},{headerName:"사업자번호",field:"businessNumber",minWidth:180,flex:1},{headerName:"사업자명",field:"businessName",minWidth:120,flex:1},{headerName:"사업자대표자",field:"businessRepresentative",minWidth:120,flex:1},{headerName:"등록일",field:"createdAt",minWidth:120,valueFormatter:c.Kg,flex:1}],[]),u=(0,a.Xr)(i),h=(0,t.useCallback)(e=>{u(e.api.getSelectedRows())},[u]);return(0,s.jsx)(d.A,{columnDefs:l,data:e,onSelectionChanged:h,searchDateField:"createdAt"})}var b=n(71599),x=n(92262),f=n(40017),p=n(57797),v=n(89085),A=n(57598),j=n(49344),y=n(60720);let g=(0,u.createServerReference)("409c52691926fd202fabf142451ceb14ab1bb70d42",u.callServer,void 0,u.findSourceMapURL,"addBusinessNumber"),C=(0,u.createServerReference)("403603b6d37648c97c318c8e974ee12943d0609d7f",u.callServer,void 0,u.findSourceMapURL,"updateBusinessNumber"),S=y.z.object({businessNumber:y.z.string().min(1,"사업자번호를 입력해주세요."),businessName:y.z.string().min(1,"사업자명을 입력해주세요."),businessRepresentative:y.z.string().min(1,"사업자대표자를 입력해주세요.")}),N=[{name:"businessNumber",label:"사업자번호",type:"text",required:!0},{name:"businessName",label:"사업자명",type:"text",required:!0},{name:"businessRepresentative",label:"사업자대표자",type:"text",required:!0}];function k(e){let{onClose:r,submitLabel:n="저장"}=e,l=(0,a.Xr)(o),[i,d]=(0,t.useState)({}),c=async e=>{try{await g(e),l(e=>e+1),d({}),null==r||r()}catch(e){e instanceof Error?d({businessNumber:e.message}):d({businessNumber:"오류가 발생했습니다."})}};return(0,s.jsx)(j.A,{fields:N,onSubmit:c,submitLabel:n,zodSchema:S,fieldErrors:i})}function w(e){let{onClose:r,submitLabel:n="수정"}=e,l=(0,a.Xr)(o),[d,c]=(0,t.useState)({}),u=(0,a.md)(i),m=async e=>{if(!u){c({businessNumber:"수정할 내역이 선택되지 않았습니다."});return}try{await C({...e,id:u[0].id}),l(e=>e+1),c({}),null==r||r()}catch(e){e instanceof Error?c({businessNumber:e.message}):c({businessNumber:"오류가 발생했습니다."})}};return(0,s.jsx)(j.A,{fields:N,onSubmit:m,submitLabel:n,zodSchema:S,fieldErrors:d,initialValues:{businessNumber:u[0].businessNumber,businessName:u[0].businessName,businessRepresentative:u[0].businessRepresentative}})}let W=(0,u.createServerReference)("4097479cf2c439efd50dfef9469592df65d48ce801",u.callServer,void 0,u.findSourceMapURL,"deleteBusinessNumbers");function R(e){let{open:r,onClose:n}=e;return(0,s.jsxs)(f.A,{open:r,onClose:n,maxWidth:"xs",fullWidth:!0,children:[(0,s.jsx)(p.A,{children:"사업자 번호 추가"}),(0,s.jsx)(v.A,{children:(0,s.jsx)(k,{onClose:n})})]})}function z(e){let{open:r,onClose:n}=e;return(0,s.jsxs)(f.A,{open:r,onClose:n,maxWidth:"xs",fullWidth:!0,children:[(0,s.jsx)(p.A,{children:"사업자 번호 수정"}),(0,s.jsx)(v.A,{children:(0,s.jsx)(w,{onClose:n})})]})}function E(e){let{open:r,onClose:n}=e,t=(0,a.md)(i),l=(0,a.Xr)(o);async function d(){await W(t.map(e=>e.id)),l(e=>e+1),n()}return(0,s.jsxs)(f.A,{open:r,onClose:n,maxWidth:"xs",fullWidth:!0,children:[(0,s.jsx)(p.A,{children:"계좌 삭제 확인"}),(0,s.jsx)(v.A,{sx:{py:3},children:"정말로 선택한 사업자 번호를 삭제하시겠습니까?"}),(0,s.jsxs)(A.A,{sx:{px:3,pb:2,pt:0,justifyContent:"flex-end"},children:[(0,s.jsx)(b.A,{variant:"outlined",color:"primary",onClick:n,children:"취소"}),(0,s.jsx)(b.A,{variant:"contained",color:"primary",onClick:d,children:"삭제"})]})]})}function L(){let e=(0,a.md)(i),r=(0,a.Xr)(i),[n,l]=(0,t.useState)(!1),[o,d]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{r([])},[]),(0,s.jsx)("div",{className:"w-full min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,s.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"사업자 번호 정보"}),(0,s.jsxs)(x.A,{direction:"row",spacing:2,className:"w-full justify-end mb-4 sm:mb-6",children:[(0,s.jsx)(b.A,{variant:"contained",color:"primary",disabled:0===e.length,sx:{minWidth:120,fontWeight:600,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none"},onClick:e=>{e.currentTarget.blur(),d(!0)},children:"선택 삭제"}),(0,s.jsx)(b.A,{variant:"contained",color:"primary",sx:{minWidth:120,fontWeight:600,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none"},onClick:e=>{e.currentTarget.blur(),l(!0)},children:"사업자 번호 추가"}),(0,s.jsx)(b.A,{variant:"contained",color:"primary",sx:{minWidth:120,fontWeight:600,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none"},onClick:e=>{e.currentTarget.blur(),u(!0)},disabled:1!==e.length,children:"계좌 수정"})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,s.jsx)(h,{})}),(0,s.jsx)(R,{open:n,onClose:()=>l(!1)}),(0,s.jsx)(E,{open:o,onClose:()=>d(!1)}),(0,s.jsx)(z,{open:c,onClose:()=>u(!1)})]})})}},49344:(e,r,n)=>{"use strict";n.d(r,{A:()=>A});var s=n(22318),t=n(20926),a=n(92262),l=n(54069),i=n(2877),o=n(17859),d=n(51678),c=n(21768),u=n(60660),m=n(6987),h=n(27849),b=n(46558),x=n(71599),f=n(20063),p=n(90748);function v(e){return e.reduce((e,r)=>{var n,s,t;let a;return a="array"===r.type?null!==(n=r.defaultValue)&&void 0!==n?n:[]:"select"===r.type&&r.options&&r.options.length>0?null!==(s=r.defaultValue)&&void 0!==s?s:r.options[0].value:null!==(t=r.defaultValue)&&void 0!==t?t:"",{...e,[r.name]:a}},{})}function A(e){let{zodSchema:r,steps:n,fields:A,onSubmit:j,submitLabel:y="저장",zodSchemas:g,onCancel:C,fieldErrors:S={},initialValues:N={}}=e,k=!!n,[w,W]=(0,t.useState)(0),R=k?n[w].fields:A,[z,E]=(0,t.useState)(k?{...n.reduce((e,r)=>({...e,...v(r.fields)}),{}),...N}:{...v(A),...N}),[L,M]=(0,t.useState)({}),[T,P]=(0,t.useState)(!1),V=(e,r)=>{E(n=>({...n,[e]:r}))},I=e=>{E(r=>({...r,[e.name]:[...Array.isArray(r[e.name])?r[e.name]:[],v(e.fields)]}))},U=(e,r)=>{E(n=>({...n,[e.name]:Array.isArray(n[e.name])?n[e.name].filter((e,n)=>n!==r):[]}))},_=(e,r,n,s)=>{E(t=>({...t,[e.name]:Array.isArray(t[e.name])?t[e.name].map((e,t)=>t===r?{...e,[n]:s}:e):[]}))},X=e=>{let r={};return e.errors.forEach(e=>{r[e.path[0]]=e.message}),r},B=async e=>{let s;if(!T){if(e.preventDefault(),(s=k&&g?g[w].safeParse(z):r?r.safeParse(z):{success:!0,data:z})&&!s.success){M(X(s.error));return}M({}),P(!0);try{k&&w<n.length-1?W(e=>e+1):await j(z)}finally{P(!1)}}},D=(e,r,n,x,v)=>{let A=S[e.name]||x;switch(e.type){case"text":case"number":case"date":return(0,s.jsx)(l.A,{label:e.label,name:e.name,type:"number"===e.type?"number":e.type,value:r,onChange:r=>n("number"===e.type?Number(r.target.value):r.target.value),fullWidth:!0,error:!!A,helperText:A||e.helperText,InputLabelProps:"date"===e.type?{shrink:!0}:void 0,InputProps:e.endAdornment?{endAdornment:(0,s.jsx)(i.A,{sx:{color:"inherit","& .MuiTypography-root":{color:"inherit"}},position:"end",children:e.endAdornment})}:void 0,sx:{mb:1}},e.name+(null!=v?v:""));case"select":var j;return(0,s.jsxs)(o.A,{fullWidth:!0,error:!!A,sx:{mb:1},children:[(0,s.jsx)(d.A,{children:e.label}),(0,s.jsx)(c.A,{value:r,label:e.label,onChange:e=>n(e.target.value),children:null===(j=e.options)||void 0===j?void 0:j.map(e=>(0,s.jsx)(u.A,{value:e.value,children:e.label},e.value))}),A&&(0,s.jsx)(m.A,{color:"error",variant:"caption",children:A})]},e.name+(null!=v?v:""));case"array":return(0,s.jsxs)(h.A,{sx:{mb:2},children:[(0,s.jsxs)(h.A,{display:"flex",alignItems:"center",mb:1,children:[(0,s.jsx)(m.A,{variant:"subtitle1",children:e.label}),(0,s.jsx)(b.A,{size:"small",onClick:()=>I(e),sx:{ml:1},children:(0,s.jsx)(f.A,{fontSize:"small"})})]}),(Array.isArray(r)?r:[]).map((r,n)=>(0,s.jsxs)(h.A,{sx:{border:"1px solid #eee",borderRadius:1,p:2,mb:1},children:[(0,s.jsxs)(h.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,s.jsxs)(m.A,{variant:"body2",children:[e.label," #",n+1]}),(0,s.jsx)(b.A,{size:"small",onClick:()=>U(e,n),children:(0,s.jsx)(p.A,{fontSize:"small"})})]}),function(e){var r;let{field:n,item:h,onChange:b,errors:x}=e;return(0,s.jsx)(a.A,{spacing:1,mt:1,children:null===(r=n.fields)||void 0===r?void 0:r.map(e=>{let r=h[e.name];return(0,s.jsx)(t.Fragment,{children:(()=>{switch(e.type){case"text":case"number":case"date":return(0,s.jsx)(l.A,{label:e.label,name:e.name,type:"number"===e.type?"number":e.type,value:r,onChange:r=>b(e.name,"number"===e.type?Number(r.target.value):r.target.value),fullWidth:!0,error:!!x[e.name],helperText:x[e.name]||e.helperText,InputLabelProps:"date"===e.type?{shrink:!0}:void 0,InputProps:e.endAdornment?{endAdornment:(0,s.jsx)(i.A,{sx:{color:"inherit","& .MuiTypography-root":{color:"inherit"}},position:"end",children:e.endAdornment})}:void 0,sx:{mb:1}});case"select":var n;return(0,s.jsxs)(o.A,{fullWidth:!0,error:!!x[e.name],sx:{mb:1},children:[(0,s.jsx)(d.A,{children:e.label}),(0,s.jsx)(c.A,{value:r,label:e.label,onChange:r=>b(e.name,r.target.value),children:null===(n=e.options)||void 0===n?void 0:n.map(e=>(0,s.jsx)(u.A,{value:e.value,children:e.label},e.value))}),x[e.name]&&(0,s.jsx)(m.A,{color:"error",variant:"caption",children:x[e.name]})]});case"custom":return e.render?e.render({value:r,onChange:r=>b(e.name,r),error:x[e.name]}):null;default:return null}})()},e.name)})})}({field:e,item:r,onChange:(r,s)=>_(e,n,r,s),errors:{}})]},n))]},e.name);case"custom":return e.render?e.render({value:r,onChange:n,error:A}):null;default:return null}};return(0,s.jsxs)("form",{onSubmit:B,children:[k&&(0,s.jsx)(m.A,{variant:"h6",sx:{mb:2},children:n[w].label}),(0,s.jsx)(a.A,{spacing:2,sx:{mt:1},children:R.map(e=>D(e,z[e.name],r=>V(e.name,r),L[e.name]))}),(0,s.jsxs)(h.A,{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:2,mt:2,children:[k&&w>0&&(0,s.jsx)(x.A,{variant:"outlined",color:"primary",onClick:()=>W(e=>e-1),children:"이전"}),"function"==typeof C&&(0,s.jsx)(x.A,{variant:"outlined",color:"primary",onClick:C,children:"취소"}),(0,s.jsx)(x.A,{type:"submit",variant:"contained",color:"primary",sx:{fontWeight:600},disabled:T,children:k&&w<n.length-1?"다음":y})]})]})}},53282:(e,r,n)=>{"use strict";n.d(r,{A:()=>a});var s=n(77348),t=n(22318);let a=(0,s.A)((0,t.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList")},79005:(e,r,n)=>{Promise.resolve().then(n.bind(n,43987))},97482:(e,r,n)=>{"use strict";n.d(r,{A:()=>a});var s=n(77348),t=n(22318);let a=(0,s.A)((0,t.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")}},e=>{var r=r=>e(e.s=r);e.O(0,[775,82,426,336,69,41,90,971,394,52,417,39,77,358],()=>r(79005)),_N_E=e.O()}]);
