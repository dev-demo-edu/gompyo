(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[707],{7049:(e,n,r)=>{Promise.resolve().then(r.bind(r,68323))},68323:(e,n,r)=>{"use strict";r.d(n,{default:()=>W});var t=r(22318),a=r(95351),i=r(20926),c=r(86956),l=r(49812);let o=(0,l.eU)([]),d=(0,l.eU)(0);var s=r(64358);let u=(0,s.createServerReference)("0033ddeb793d09a970cbdf3f432d73afcfab2b1989",s.callServer,void 0,s.findSourceMapURL,"getAccountNumbers");function m(){let[e,n]=(0,i.useState)([]),r=(0,c.md)(d);(0,i.useEffect)(()=>{(async()=>{n(await u())})()},[r]);let l=(0,i.useMemo)(()=>[{headerName:"",checkboxSelection:!0,minWidth:50,flex:1,headerCheckboxSelection:!0,filter:!1,pinned:"left",lockPinned:!0,width:70},{headerName:"계좌번호",field:"accountNumber",minWidth:180,flex:1},{headerName:"은행명",field:"bankName",minWidth:120,flex:1},{headerName:"예금주",field:"owner",minWidth:120,flex:1},{headerName:"등록일",field:"createdAt",minWidth:120,flex:1}],[]),s=(0,c.Xr)(o),m=(0,i.useCallback)(e=>{s(e.api.getSelectedRows())},[s]);return(0,t.jsx)(a.A,{columnDefs:l,data:e,onSelectionChanged:m})}var h=r(71599),f=r(92262),x=r(40017),b=r(57797),p=r(89085),j=r(57598),v=r(49344),N=r(60720);let A=(0,s.createServerReference)("4012e4945b12c35c1d062691f9cd549ad98db4c66b",s.callServer,void 0,s.findSourceMapURL,"addAccountNumber"),S=N.z.object({bankName:N.z.string().min(1,"은행명을 입력해주세요."),accountNumber:N.z.string().min(1,"계좌번호를 입력해주세요.").regex(/^[0-9-]+$/,"숫자와 하이픈(-)만 입력 가능합니다."),owner:N.z.string().min(1,"예금주를 입력해주세요.")}),g=[{name:"bankName",label:"은행명",type:"text",required:!0},{name:"accountNumber",label:"계좌번호",type:"text",required:!0},{name:"owner",label:"예금주",type:"text",required:!0}];function C(e){let{onClose:n,submitLabel:r="저장"}=e,a=(0,c.Xr)(d),[l,o]=(0,i.useState)({}),s=async e=>{try{await A({...e,createdAt:new Date().toISOString()}),a(e=>e+1),o({}),null==n||n()}catch(e){e instanceof Error?o({accountNumber:e.message}):o({accountNumber:"오류가 발생했습니다."})}};return(0,t.jsx)(v.A,{fields:g,onSubmit:s,submitLabel:r,zodSchema:S,fieldErrors:l})}let w=(0,s.createServerReference)("402f3107a132964470a31664c13312cef085e5e7aa",s.callServer,void 0,s.findSourceMapURL,"deleteAccountNumbers");function k(e){let{open:n,onClose:r}=e;return(0,t.jsxs)(x.A,{open:n,onClose:r,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(b.A,{children:"계좌 추가"}),(0,t.jsx)(p.A,{children:(0,t.jsx)(C,{onClose:r})})]})}function y(e){let{open:n,onClose:r}=e,a=(0,c.md)(o),i=(0,c.Xr)(d);async function l(){await w(a.map(e=>e.id)),i(e=>e+1),r()}return(0,t.jsxs)(x.A,{open:n,onClose:r,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(b.A,{children:"계좌 삭제 확인"}),(0,t.jsx)(p.A,{sx:{py:3},children:"정말로 선택한 계좌를 삭제하시겠습니까?"}),(0,t.jsxs)(j.A,{sx:{px:3,pb:2,pt:0,justifyContent:"flex-end"},children:[(0,t.jsx)(h.A,{variant:"outlined",color:"primary",children:"취소"}),(0,t.jsx)(h.A,{variant:"contained",color:"primary",onClick:l,children:"삭제"})]})]})}function W(){let e=(0,c.md)(o),n=(0,c.Xr)(o),[r,a]=(0,i.useState)(!1),[l,d]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{n([])},[]),(0,t.jsx)("div",{className:"w-full min-h-screen bg-gray-100",children:(0,t.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"계좌 정보"}),(0,t.jsxs)(f.A,{direction:"row",spacing:2,className:"w-full justify-end mb-4 sm:mb-6",children:[(0,t.jsx)(h.A,{variant:"contained",color:"primary",disabled:0===e.length,sx:{minWidth:120,fontWeight:600,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none"},onClick:()=>d(!0),children:"선택 삭제"}),(0,t.jsx)(h.A,{variant:"contained",color:"primary",sx:{minWidth:120,fontWeight:600,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none"},onClick:()=>a(!0),children:"계좌 추가"})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,t.jsx)(m,{})}),(0,t.jsx)(k,{open:r,onClose:()=>a(!1)}),(0,t.jsx)(y,{open:l,onClose:()=>d(!1)})]})})}}},e=>{var n=n=>e(e.s=n);e.O(0,[775,82,348,519,960,971,201,737,84,946,39,77,358],()=>n(7049)),_N_E=e.O()}]);
