(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{2123:(e,t,r)=>{"use strict";r.d(t,{FX:()=>n,cX:()=>i,mg:()=>d,zG:()=>l});var a=r(32921);let l=[{field:"contractNumber",headerName:"계약 번호",width:130},{field:"progressStatus",headerName:"진행 상태",width:100},{field:"contractDate",headerName:"계약일자",valueFormatter:a.Kg,width:150},{field:"exporter",headerName:"공급업체",width:120},{field:"importer",headerName:"수입회사",width:120},{field:"estimatedTimeArrival",headerName:"ETA",valueFormatter:a.Kg,width:150},{field:"arrivalPort",headerName:"도착항",width:120},{field:"itemName",headerName:"품목",width:120},{field:"contractTon",headerName:"무게",valueFormatter:e=>"".concat(e.value,"톤"),width:100},{field:"packingUnit",headerName:"포장 단위",width:130},{field:"unitPrice",headerName:"단가",valueFormatter:a.sg,width:130},{field:"totalPrice",headerName:"단가 * 무게",valueFormatter:a.ye,width:150},{field:"paymentMethod",headerName:"결제방식",width:100},{field:"warehouseEntryDate",headerName:"입고일",valueFormatter:a.Kg,width:150},{field:"importCostPerKg",headerName:"수입가/kg",valueFormatter:a.gt,width:130},{field:"supplyCostPerKg",headerName:"수급가/kg",valueFormatter:a.gt,width:130},{field:"totalCost",headerName:"총 비용",valueFormatter:a.ye,width:150},{field:"totalCostPerKg",headerName:"총 비용/kg",valueFormatter:a.gt,width:130},{field:"sellingPrice",headerName:"판매가",valueFormatter:a.ye,width:130},{field:"margin",headerName:"마진",valueFormatter:a.ye,width:100},{field:"totalProfit",headerName:"총 이익",valueFormatter:a.ye,width:150}],i=[{field:"contractNumber",headerName:"계약 번호",width:130},{field:"progressStatus",headerName:"진행 상태",width:100},{field:"contractDate",headerName:"계약일자",valueFormatter:a.Kg,width:150},{field:"importer",headerName:"수입회사",width:120},{field:"productName",headerName:"품종",width:150},{field:"itemName",headerName:"품목",width:120},{field:"weight",headerName:"무게",valueFormatter:e=>"".concat(e.value,"톤"),width:100},{field:"containerCount",headerName:"컨테이너 개수",width:120},{field:"packingUnit",headerName:"포장 단위",width:100},{field:"unitPrice",headerName:"단가",valueFormatter:a.sg,width:130},{field:"totalPrice",headerName:"단가 * 무게",valueFormatter:a.ye,width:150},{field:"supplyPrice",headerName:"수급가",valueFormatter:a.ye,width:130},{field:"sellingPrice",headerName:"판매가",valueFormatter:a.ye,width:130},{field:"paymentMethod",headerName:"결제방식",width:100},{field:"hsCode",headerName:"HS CODE",width:120},{field:"blNumber",headerName:"BL no.",width:120},{field:"departurePort",headerName:"port(출발항)",width:120},{field:"etd",headerName:"ETD",valueFormatter:a.Kg,width:150},{field:"arrivalPort",headerName:"port(도착항)",width:120},{field:"eta",headerName:"ETA",valueFormatter:a.Kg,width:150},{field:"exporter",headerName:"공급업체",width:120},{field:"customsDate",headerName:"통관일자",valueFormatter:a.Kg,width:150}],d=l.map(e=>({field:e.field,width:e.width||100})),n=i.map(e=>({field:e.field,width:e.width||100}))},5709:(e,t,r)=>{"use strict";r.d(t,{t:()=>d});var a=r(22318),l=r(11971),i=r.n(l);let d=e=>(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(i(),{href:"/detail/".concat(e.data.id),className:"inline-block px-4 py-1.5 bg-[#22C55E] text-white rounded-lg hover:bg-[#16A34A] transition-colors text-sm font-medium text-center",children:"상세보기"})})},32921:(e,t,r)=>{"use strict";r.d(t,{Kg:()=>o,eg:()=>n,f3:()=>d,gt:()=>i,sg:()=>l,ye:()=>a});let a=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e.value):"",l=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let t=Number(e.value);if(isNaN(t))return"";let r=!Number.isInteger(t);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2*!!r,maximumFractionDigits:2*!!r}).format(t)},i=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.value)+"/kg":"",d=e=>e.value?new Date(e.value).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"}):"",n=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let t=Number(e.value);if(isNaN(t))return"";let r=Number(t.toFixed(1));return Number.isInteger(r)?r.toString():r.toFixed(1)},o=e=>{if(!e.value)return"";let t=new Date(e.value),r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return"".concat(r,"/").concat(a,"/").concat(l)}},46274:(e,t,r)=>{"use strict";r.d(t,{default:()=>F});var a=r(22318),l=r(40017),i=r(57797),d=r(89085),n=r(57598),o=r(71599),s=r(83056),c=r(86956),u=r(49812);let m=(0,u.eU)([]),h=(0,u.eU)(0);function f(e){let{open:t,onClose:r}=e,u=(0,c.md)(m),f=(0,c.Xr)(h);async function g(){console.log(u),await (0,s.w)(u.map(e=>e.id)),f(e=>e+1),r()}return(0,a.jsxs)(l.A,{open:t,onClose:r,maxWidth:"xs",fullWidth:!0,children:[(0,a.jsx)(i.A,{children:"화물 삭제 확인"}),(0,a.jsx)(d.A,{sx:{py:3},children:"정말로 선택한 화물을 삭제하시겠습니까?"}),(0,a.jsxs)(n.A,{sx:{px:3,pb:2,pt:0,justifyContent:"flex-end"},children:[(0,a.jsx)(o.A,{variant:"outlined",color:"primary",onClick:r,children:"취소"}),(0,a.jsx)(o.A,{variant:"contained",color:"primary",onClick:g,children:"삭제"})]})]})}var g=r(20926),v=r(77369),p=r(5709),w=r(64358);let x=(0,w.createServerReference)("0049339fb493948c1ac1860dd2eac9b3f1836c541e",w.callServer,void 0,w.findSourceMapURL,"getShipmentData"),N=(0,w.createServerReference)("404757e7a76cb9b03e2ba3b2fa52f1184db3542cd1",w.callServer,void 0,w.findSourceMapURL,"saveUserShipmentColumnOrder"),b=(0,w.createServerReference)("0030665d1c07fcb4de0143ec72ae810e2dc9ce96e5",w.callServer,void 0,w.findSourceMapURL,"getUserShipmentColumnOrder");var y=r(50757),S=r(2123);function j(){let[e,t]=(0,g.useState)([]),[r,l]=(0,g.useState)([]),[i,d]=(0,g.useState)(!0),[n,o]=(0,g.useState)(null),s=(0,g.useMemo)(()=>(console.log("columnOrder",r),[{headerName:"",checkboxSelection:!0,minWidth:50,flex:1,headerCheckboxSelection:!0,filter:!1,pinned:"left",lockPinned:!0,width:70,field:"checkbox"},...r.length>0?r.map(e=>{let{field:t,width:r}=e,a=S.cX.find(e=>e.field===t);return a?(a.width=r,a):(console.warn("Column ".concat(t," not found in DEFAULT_SHIPMENT_COLUMN")),null)}).filter(e=>null!==e):S.cX,{headerName:"상세",field:"detail",cellRenderer:p.t,sortable:!1,filter:!1,width:100,pinned:"right",lockPinned:!1}]),[r]),u=(0,g.useCallback)(async e=>{let t=e.api.getColumnState().filter(e=>"detail"!==e.colId).map(e=>({field:e.colId,width:e.width}));try{let e=await N(t);console.log("Column order save result:",e),e.success&&l(t)}catch(e){console.error("컬럼 순서 저장 중 오류:",e)}},[]),f=(0,g.useCallback)(async()=>{try{(await N(S.FX)).success&&l(S.FX)}catch(e){console.error("컬럼 순서 리셋 중 오류:",e)}},[]),{onDragStarted:w,onDragStopped:j}=(0,y.A)(u),C=(0,c.md)(h);(0,g.useEffect)(()=>{(async()=>{try{d(!0);let e=await x(),r=await b();t(e),l(r||S.FX),o(null)}catch(e){o(e instanceof Error?e.message:"데이터를 불러오는데 실패했습니다.")}finally{d(!1)}})()},[C]);let F=(0,c.Xr)(m),k=(0,g.useCallback)(e=>{F(e.api.getSelectedRows())},[F]);return(0,a.jsx)(v.A,{columnDefs:s,data:e,loading:i,error:n,onDragStarted:w,onDragStopped:j,onResetColumnOrder:f,searchDateField:"contractDate",onSelectionChanged:k})}var C=r(92262);function F(){let[e,t]=(0,g.useState)(!1),r=(0,c.md)(m);return(0,a.jsx)("div",{className:"w-full min-h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"선적 현황"}),(0,a.jsx)(C.A,{direction:"row",spacing:2,className:"w-full justify-end mb-4 sm:mb-6",children:(0,a.jsx)(o.A,{variant:"contained",onClick:()=>t(!0),disabled:0===r.length,className:"px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-dark transition-colors",children:"삭제하기"})}),(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)(j,{})}),(0,a.jsx)(f,{open:e,onClose:()=>t(!1)})]})})}},50757:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(20926);let l=function(e){let t=(0,a.useRef)([]);return{onDragStarted:e=>{t.current=e.api.getColumnState().map(e=>e.colId)},onDragStopped:r=>{let a=r.api.getColumnState().map(e=>e.colId).filter(e=>"detail"!==e);t.current.every((e,t)=>e===a[t])||e(r)}}}},53282:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(77348),l=r(22318);let i=(0,a.A)((0,l.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList")},62508:(e,t,r)=>{Promise.resolve().then(r.bind(r,46274))},77369:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var a=r(22318),l=r(20926),i=r(74676),d=r(53282),n=r(83783),o=r(93502),s=r(97482);r(11971);var c=r(66292);function u(e){return new Date(e).toISOString().slice(0,10)}function m(e){let{columnDefs:t,data:r=[],loading:i=!1,error:m=null,onDragStarted:h,onDragStopped:f,onResetColumnOrder:g,onSelectionChanged:v,searchDateField:p}=e,[w,x]=(0,l.useState)(""),[N,b]=(0,l.useState)(""),[y,S]=(0,l.useState)(""),[j,C]=(0,l.useState)(!1),[F,k]=(0,l.useState)(!0),A=(0,l.useMemo)(()=>r.filter(e=>{let r=!w||t.some(t=>{let r=t.field;if(!r)return!1;let a=e[r];return a&&a.toString().toLowerCase().includes(w.toLowerCase())});if(p){let t=u(e[p]),a=N?u(N):null,l=y?u(y):null;if(a&&l)return r&&t>=a&&t<=l;if(a)return r&&t>=a;if(l)return r&&t<=l}return r}),[r,w,N,y,t,p]);return(0,a.jsxs)("div",{className:"flex flex-col md:flex-row w-full h-[800px] bg-transparent rounded-xl overflow-hidden shadow-lg  gap-6",children:[(0,a.jsxs)("button",{onClick:()=>C(!j),className:"md:hidden flex items-center justify-center gap-2 mb-4 px-4 py-2 bg-white rounded-lg shadow-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,a.jsx)(d.A,{className:"w-5 h-5"}),(0,a.jsxs)("span",{children:["필터 ",j?"숨기기":"보기"]})]}),(0,a.jsxs)("div",{className:"relative transition-all duration-300 p-6 space-y-6\n        ".concat(j?"block":"hidden md:block","\n        ").concat(F?"w-12 bg-transparent":"w-full md:w-80 bg-white rounded-xl shadow-sm","\n        md:shrink-0 overflow-hidden"),children:[(0,a.jsx)("button",{onClick:()=>k(e=>!e),className:"absolute right-2 top-2 w-8 h-8 bg-white text-gray-600 rounded-full shadow-md hover:bg-gray-300 transition z-10 hidden md:block",children:F?(0,a.jsx)(n.A,{}):(0,a.jsx)(o.A,{})}),!F&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"필터"}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"검색어"}),(0,a.jsx)("input",{type:"text",placeholder:"검색어를 입력하세요",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:w,onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"조회 기간"}),(0,a.jsx)("input",{type:"date",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 mb-3",value:N,onChange:e=>b(e.target.value)}),(0,a.jsx)("input",{type:"date",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:y,onChange:e=>S(e.target.value)})]}),g&&(0,a.jsxs)("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,a.jsx)(s.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"컬럼 순서 초기화"})]})]})]})]}),(0,a.jsx)("div",{className:"flex-1 bg-white rounded-xl shadow-sm overflow-hidden min-h-[400px]",children:(0,a.jsx)(c.A,{columnDefs:t,data:A,loading:i,error:m,onDragStarted:h,onDragStopped:f,onSelectionChanged:v,pagination:!1})})]})}i.syG.registerModules([i.JKr])},83056:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var a=r(64358);let l=(0,a.createServerReference)("406ae734aa33a7d3bd51f01bfc3806dd08d1688a7a",a.callServer,void 0,a.findSourceMapURL,"deletePlans")},83783:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(77348),l=r(22318);let i=(0,a.A)((0,l.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},93502:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(77348),l=r(22318);let i=(0,a.A)((0,l.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft")},97482:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(77348),l=r(22318);let i=(0,a.A)((0,l.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8m-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91"}),"RestartAlt")}},e=>{var t=t=>e(e.s=t);e.O(0,[775,82,426,336,510,394,956,971,292,39,77,358],()=>t(62508)),_N_E=e.O()}]);
