(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{62508:(e,n,r)=>{Promise.resolve().then(r.bind(r,68106))},68106:(e,n,r)=>{"use strict";r.d(n,{default:()=>k});var a=r(22318),l=r(40017),t=r(57797),c=r(89085),i=r(57598),s=r(71599),o=r(39083),d=r(86956),u=r(49812);let f=(0,u.eU)([]),h=(0,u.eU)(0);function m(e){let{open:n,onClose:r}=e,u=(0,d.md)(f),m=(0,d.Xr)(h);async function p(){console.log(u),await (0,o.w)(u.map(e=>e.id)),m(e=>e+1),r()}return(0,a.jsxs)(l.A,{open:n,onClose:r,maxWidth:"xs",fullWidth:!0,children:[(0,a.jsx)(t.A,{children:"화물 삭제 확인"}),(0,a.jsx)(c.A,{sx:{py:3},children:"정말로 선택한 화물을 삭제하시겠습니까?"}),(0,a.jsxs)(i.A,{sx:{px:3,pb:2,pt:0,justifyContent:"flex-end"},children:[(0,a.jsx)(s.A,{variant:"outlined",color:"primary",onClick:r,children:"취소"}),(0,a.jsx)(s.A,{variant:"contained",color:"primary",onClick:p,children:"삭제"})]})]})}var p=r(20926),x=r(95351),b=r(64358);let v=(0,b.createServerReference)("0043ef981d216270f22f65645a320921cab294fe62",b.callServer,void 0,b.findSourceMapURL,"getShipmentData"),S=(0,b.createServerReference)("400332ec8182b18eb201c8e354a4b9c27b81f292a4",b.callServer,void 0,b.findSourceMapURL,"saveUserShipmentColumnOrder"),g=(0,b.createServerReference)("00c5ff540788186748639db7b8b243f1d54c82fed2",b.callServer,void 0,b.findSourceMapURL,"getUserShipmentColumnOrder");var C=r(50757),w=r(2123);function j(){let[e,n]=(0,p.useState)([]),[r,l]=(0,p.useState)([]),[t,c]=(0,p.useState)(!0),[i,s]=(0,p.useState)(null),o=(0,p.useMemo)(()=>[{headerName:"",checkboxSelection:!0,minWidth:50,flex:1,headerCheckboxSelection:!0,filter:!1,pinned:"left",lockPinned:!0,width:70},...r.length>0?r.map(e=>{let n=w.cX.find(n=>n.field===e);return n||(console.warn("Column ".concat(e," not found in DEFAULT_SHIPMENT_COLUMN")),null)}).filter(e=>null!==e):w.cX,{headerName:"상세",field:"detail",cellRenderer:x.t,sortable:!1,filter:!1,width:100,pinned:"right",lockPinned:!1}],[r]),u=(0,p.useCallback)(async e=>{let n=e.api.getColumnState().map(e=>e.colId).filter(e=>"detail"!==e);try{let e=await S(n);console.log("Column order save result:",e),e.success&&l(n)}catch(e){console.error("컬럼 순서 저장 중 오류:",e)}},[]),m=(0,p.useCallback)(async()=>{try{(await S(w.FX)).success&&l(w.FX)}catch(e){console.error("컬럼 순서 리셋 중 오류:",e)}},[]),{onDragStarted:b,onDragStopped:j}=(0,C.A)(u),y=(0,d.md)(h);(0,p.useEffect)(()=>{(async()=>{try{c(!0);let e=await v(),r=await g();n(e),l(r||w.FX),s(null)}catch(e){s(e instanceof Error?e.message:"데이터를 불러오는데 실패했습니다.")}finally{c(!1)}})()},[y]);let k=(0,d.Xr)(f),N=(0,p.useCallback)(e=>{k(e.api.getSelectedRows())},[k]);return(0,a.jsx)(x.A,{columnDefs:o,data:e,loading:t,error:i,onDragStarted:b,onDragStopped:j,onResetColumnOrder:m,searchDateField:"contractDate",onSelectionChanged:N})}var y=r(92262);function k(){let[e,n]=(0,p.useState)(!1),r=(0,d.md)(f);return(0,a.jsx)("div",{className:"w-full min-h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"선적 현황"}),(0,a.jsx)(y.A,{direction:"row",spacing:2,className:"w-full justify-end mb-4 sm:mb-6",children:(0,a.jsx)(s.A,{variant:"contained",onClick:()=>n(!0),disabled:0===r.length,className:"px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-dark transition-colors",children:"삭제하기"})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsx)(j,{})}),(0,a.jsx)(m,{open:e,onClose:()=>n(!1)})]})})}}},e=>{var n=n=>e(e.s=n);e.O(0,[775,82,426,336,41,971,6,67,39,77,358],()=>n(62508)),_N_E=e.O()}]);
