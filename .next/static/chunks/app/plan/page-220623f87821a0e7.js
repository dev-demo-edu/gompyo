(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{39389:(e,t,o)=>{"use strict";o.d(t,{MM:()=>a,RQ:()=>s,aj:()=>n,c4:()=>i});var r=o(81478);let a=(0,r.eU)(!1),l=(0,r.eU)({}),n=(0,r.eU)(e=>e(l),(e,t,o)=>{let{cargoId:r,category:a,documents:n,isLoading:i}=o,s=e(l),u="".concat(r,"-").concat(a);t(l,{...s,[u]:{documents:n,isLoading:i,lastFetched:Date.now()}})}),i=(0,r.eU)(e=>{let t=e(l);return(e,o)=>{var r;return(null===(r=t["".concat(e,"-").concat(o)])||void 0===r?void 0:r.documents)||[]}}),s=(0,r.eU)(e=>{let t=e(l);return(e,o)=>{var r;return(null===(r=t["".concat(e,"-").concat(o)])||void 0===r?void 0:r.isLoading)||!1}})},47805:(e,t,o)=>{"use strict";o.d(t,{A:()=>p,t:()=>c});var r=o(51083),a=o(4315),l=o(88199),n=o(54734),i=o(61510),s=o(74900),u=o(45768),d=o.n(u);i.syG.registerModules([i.JKr]);let c=e=>(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)(d(),{href:"/detail/".concat(e.data.id),className:"inline-block px-4 py-1.5 bg-[#22C55E] text-white rounded-lg hover:bg-[#16A34A] transition-colors text-sm font-medium text-center",children:"상세보기"})});function p(e){let{columnDefs:t,data:o,loading:u=!1,error:d=null,onDragStarted:c,onDragStopped:p}=e,[m,b]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[g,f]=(0,a.useState)(""),[_,M]=(0,a.useState)(!1),[I,y]=(0,a.useState)(!1),v=(0,a.useMemo)(()=>({sortable:!0,resizable:!0,minWidth:100,filter:!0}),[]),L=(0,a.useMemo)(()=>n.z0,[]),N=(0,a.useMemo)(()=>o.filter(e=>{let o=!m||t.some(t=>{let o=t.field;if(!o)return!1;let r=e[o];return r&&r.toString().toLowerCase().includes(m.toLowerCase())}),r=new Date(e.contractDate),a=(!x||r>=new Date(x))&&(!g||r<=new Date(g));return o&&a}),[o,m,x,g,t]);return d?(0,r.jsx)("div",{className:"w-full h-[800px] bg-white flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-red-500",children:d})}):(0,r.jsxs)("div",{className:"flex flex-col md:flex-row w-full h-[800px] bg-slate-50 rounded-xl overflow-hidden shadow-lg p-6 gap-6",children:[(0,r.jsxs)("button",{onClick:()=>M(!_),className:"md:hidden flex items-center justify-center gap-2 mb-4 px-4 py-2 bg-white rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,r.jsx)(s.A,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:["필터 ",_?"숨기기":"보기"]})]}),(0,r.jsxs)("div",{className:"relative transition-all duration-300 p-6 space-y-6\n        ".concat(_?"block":"hidden md:block","\n        ").concat(I?"w-12 bg-slate-50":"w-full md:w-80 bg-white rounded-xl shadow-sm","\n        md:shrink-0 overflow-hidden"),children:[(0,r.jsx)("button",{onClick:()=>y(e=>!e),className:"absolute right-2 top-2 w-8 h-8 bg-gray-200 text-gray-600 rounded-full shadow-md hover:bg-gray-300 transition z-10 hidden md:block",children:I?">":"<"}),!I&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"필터"}),(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"검색어"}),(0,r.jsx)("input",{type:"text",placeholder:"검색어를 입력하세요",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:m,onChange:e=>b(e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"조회 기간"}),(0,r.jsx)("input",{type:"date",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 mb-3",value:x,onChange:e=>h(e.target.value)}),(0,r.jsx)("input",{type:"date",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:g,onChange:e=>f(e.target.value)})]})]})]})]}),(0,r.jsx)("div",{className:"flex-1 bg-white rounded-xl shadow-sm overflow-hidden min-h-[400px]",children:u?(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})}):(0,r.jsx)("div",{className:"w-full h-full",children:(0,r.jsx)(l.W6,{theme:i.BhY,rowData:N,columnDefs:t,defaultColDef:v,pagination:!0,paginationPageSize:15,rowSelection:"multiple",localeText:L,onDragStarted:c,onDragStopped:p})})})]})}},60927:(e,t,o)=>{"use strict";o.d(t,{default:()=>T});var r=o(51083),a=o(39657),l=o(37285),n=o(35003),i=o(55061),s=o(39562),u=o(60295),d=o(22401),c=o(7380),p=o(1856),m=o(17921),b=o(61158),x=o(13132),h=o(54128),g=o(4315),f=o(47882),_=o(52551),M=o(7025),I=o(1231);let y=(0,I.createServerReference)("605b4f045eafa7bfea9a27361956d51e66e44e2375",I.callServer,void 0,I.findSourceMapURL,"createPlan");var v=o(73278),L=o(93161),N=o(21715),j=o(56007);let w=(0,I.createServerReference)("4072bc4b66905ed29d5415a82cc2cc0afc487dd59c",I.callServer,void 0,I.findSourceMapURL,"searchItemsByName");var S=o(66089),A=o(45242),P=o(57886),k=o(39389);let C=f.z.object({contractNumber:f.z.string().min(1,"계약 번호를 입력해주세요."),contractDate:f.z.string().min(1,"계약 일자를 선택해주세요.").default(new Date().toISOString().split("T")[0]),contractParty:f.z.string().min(1,"공급업체를 입력해주세요."),incoterms:f.z.string().optional(),importer:f.z.string().min(1,"수입처를 입력해주세요."),estimatedTimeArrival:f.z.string().optional(),estimatedTimeDeparture:f.z.string().optional(),arrivalPort:f.z.string().optional(),departurePort:f.z.string().optional()}),O=f.z.object({itemName:f.z.string().min(1,"품목을 입력해주세요."),itemVariety:f.z.string().min(1,"품종을 입력해주세요."),hsCode:f.z.string().optional(),contractTon:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요"),packingUnit:f.z.string().min(1,"포장단위를 입력해주세요."),unitPrice:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요"),exchangeRate:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(1),customsTaxRate:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),customTaxAmount:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),customsFee:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),inspectionFee:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),doCharge:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),otherCosts:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),supplyPrice:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),shippingCost:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),laborCost:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),transportStorageFee:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),loadingUnloadingFee:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요").default(0),sellingPrice:f.z.coerce.number({message:"숫자를 입력해주세요"}).min(0,"0 이상의 숫자를 입력해주세요")});function T(){var e,t,o,f,I,T,z,D,R,F,W,U,E,K,V,B,H,q,G,J,Q,X,Y;let[Z,$]=(0,g.useState)(!1),[ee,et]=(0,g.useState)(1),[eo,er]=(0,g.useState)([]),[ea,el]=(0,g.useState)(!1),[en,ei]=(0,g.useState)(null),[es,eu]=(0,g.useState)(!1),[ed,ec]=(0,g.useState)(""),[ep,em]=(0,g.useState)([]),[eb,ex]=(0,g.useState)(!1),[eh,eg]=(0,g.useState)(null),ef=(0,g.useRef)(null),{register:e_,handleSubmit:eM,formState:{errors:eI},reset:ey}=(0,_.mN)({resolver:(0,M.u)(C)}),{register:ev,handleSubmit:eL,formState:{errors:eN},reset:ej,setValue:ew}=(0,_.mN)({resolver:(0,M.u)(O)}),eS=()=>{$(!1),et(1),el(!1),ey(),ej(),er([]),eu(!1)},eA=(0,P.Xr)(k.MM),eP=async()=>{if(!en){alert("계약 정보를 입력해주세요.");return}if(0===eo.length){alert("화물 정보를 추가해주세요.");return}eu(!0);try{console.log("제출할 데이터:",{contractData:en,cargoItems:eo});let e=await y(en,eo);e.success?(eA(e=>!e),eS()):alert(e.message)}catch(e){console.error("계획 저장 중 오류 발생:",e),alert("계획 저장 중 오류가 발생했습니다.")}finally{eu(!1)}},ek=async e=>{let t=e.target.value;if(ec(t),eg(e.currentTarget),t.length<2){em([]);return}ex(!0);try{let e=await w(t);em(e||[])}catch(e){console.error("검색 오류:",e)}finally{ex(!1)}},eC=e=>{ew("itemName",e.itemName||""),ew("itemVariety",e.itemVariety||""),ew("hsCode",e.hsCode||""),ew("packingUnit",e.packingUnit||""),document.querySelectorAll("input").forEach(e=>{let t=new Event("input",{bubbles:!0});e.dispatchEvent(t)}),ec(""),em([]),eg(null)},eO=!!eh&&ep.length>0;return(0,r.jsxs)("div",{className:"w-full flex justify-end",children:[(0,r.jsx)(a.A,{variant:"contained",onClick:()=>$(!0),className:"px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-dark transition-colors",children:"추가하기"}),(0,r.jsx)(l.A,{open:Z,onClose:eS,"aria-labelledby":"modal-title","aria-describedby":"modal-description",className:"flex items-center justify-center p-4",children:(0,r.jsx)(n.A,{elevation:3,className:"w-full max-w-[712px] bg-background-paper rounded-2xl shadow-[0px_12px_24px_-4px_rgba(145,158,171,0.12)] shadow-[0px_0px_2px_0px_rgba(145,158,171,0.20)] max-h-[90vh] overflow-auto",children:1===ee?(0,r.jsxs)("form",{onSubmit:eM(e=>{ei(e),et(2)}),children:[(0,r.jsxs)(i.A,{className:"px-6 py-6 border-b border-components-divider border-opacity-20 flex items-center gap-4",children:[(0,r.jsx)(i.A,{className:"min-w-5 px-1.5 py-0.5 bg-primary-main rounded-[500px] flex justify-center items-center",children:(0,r.jsx)(s.A,{className:"text-xs font-bold text-primary-contrast-text font-['Public_Sans']",children:"1"})}),(0,r.jsx)(s.A,{className:"text-lg font-semibold text-text-primary font-['Public_Sans'] leading-7",children:"계약 정보"})]}),(0,r.jsxs)(i.A,{className:"p-6 flex flex-col gap-6",children:[(0,r.jsx)(u.A,{label:"계약 번호",...e_("contractNumber"),error:!!eI.contractNumber,helperText:null===(e=eI.contractNumber)||void 0===e?void 0:e.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"계약 일자",type:"date",...e_("contractDate"),error:!!eI.contractDate,helperText:null===(t=eI.contractDate)||void 0===t?void 0:t.message,fullWidth:!0,InputLabelProps:{shrink:!0},className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"공급업체",...e_("contractParty"),error:!!eI.contractParty,helperText:null===(o=eI.contractParty)||void 0===o?void 0:o.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"수입처",...e_("importer"),error:!!eI.importer,helperText:null===(f=eI.importer)||void 0===f?void 0:f.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"인코텀즈",...e_("incoterms"),error:!!eI.incoterms,helperText:null===(I=eI.incoterms)||void 0===I?void 0:I.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsxs)(i.A,{className:"flex flex-col sm:flex-row gap-6",children:[(0,r.jsx)(u.A,{label:"출발항",...e_("departurePort"),error:!!eI.departurePort,helperText:null===(T=eI.departurePort)||void 0===T?void 0:T.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"도착항",...e_("arrivalPort"),error:!!eI.arrivalPort,helperText:null===(z=eI.arrivalPort)||void 0===z?void 0:z.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"})]}),(0,r.jsxs)(i.A,{className:"flex flex-col sm:flex-row gap-6",children:[(0,r.jsx)(u.A,{label:"ETD",type:"date",...e_("estimatedTimeDeparture"),error:!!eI.estimatedTimeDeparture,helperText:null===(D=eI.estimatedTimeDeparture)||void 0===D?void 0:D.message,fullWidth:!0,InputLabelProps:{shrink:!0},className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"ETA",type:"date",...e_("estimatedTimeArrival"),error:!!eI.estimatedTimeArrival,helperText:null===(R=eI.estimatedTimeArrival)||void 0===R?void 0:R.message,fullWidth:!0,InputLabelProps:{shrink:!0},className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"})]}),(0,r.jsxs)(i.A,{className:"flex flex-col sm:flex-row gap-6 justify-end",children:[(0,r.jsx)(a.A,{type:"button",variant:"outlined",onClick:eS,className:"h-12 min-w-16 px-4 rounded-lg outline-[1px] outline-offset-[-1px] outline-components-button-outlined outline-opacity-30 text-text-primary font-bold font-['Public_Sans'] hover:bg-gray-50",children:"취소"}),(0,r.jsx)(a.A,{type:"submit",variant:"contained",className:"h-12 min-w-16 px-4 bg-global-inherit-bgcolor rounded-lg text-global-inherit-color font-bold font-['Public_Sans'] hover:bg-opacity-90",children:"다음"})]})]})]}):ea?(0,r.jsxs)("form",{onSubmit:eL(e=>{console.log("저장할 화물 데이터:",e),er(t=>[...t,e]),el(!1),ej()}),children:[(0,r.jsxs)(i.A,{className:"w-full bg-background-paper rounded-2xl shadow-[0px_12px_24px_-4px_rgba(145,158,171,0.12)] shadow-[0px_0px_2px_0px_rgba(145,158,171,0.20)]",children:[(0,r.jsx)(i.A,{className:"px-6 py-6 border-b border-components-divider border-opacity-20",children:(0,r.jsx)(s.A,{className:"text-lg font-semibold text-text-primary font-['Public_Sans'] leading-7",children:"화물 상세 정보"})}),(0,r.jsxs)(i.A,{className:"p-6 flex flex-col gap-6",children:[(0,r.jsxs)(i.A,{className:"flex flex-col gap-1 relative",children:[(0,r.jsx)(u.A,{InputProps:{endAdornment:eb?(0,r.jsx)(h.A,{size:20,className:"absolute right-4 top-1/2 transform -translate-y-1/2"}):(0,r.jsx)(S.A,{position:"start",sx:{marginBottom:2},children:(0,r.jsx)(A.A,{})})},label:"상품 검색",value:ed,onChange:ek,ref:ef,variant:"filled",placeholder:"검색어를 입력하세요 (2글자 이상)",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(s.A,{className:"text-xs text-text-secondary",children:"전에 등록하셨던 상품을 검색해서 자동으로 입력할 수 있습니다"}),(0,r.jsx)(L.x,{onClickAway:()=>{eg(null)},children:(0,r.jsx)(v.A,{id:eO?"item-search-popper":void 0,open:eO,anchorEl:eh,placement:"bottom-start",className:"z-[9999] w-full",style:{width:eh?eh.clientWidth:"auto"},disablePortal:!0,modifiers:[{name:"flip",enabled:!0},{name:"preventOverflow",enabled:!0,options:{altAxis:!0,boundary:"clippingParents"}},{name:"offset",enabled:!0,options:{offset:[0,4]}}],children:(0,r.jsx)(n.A,{className:"w-full max-h-60 overflow-auto shadow-xl border border-gray-200",style:{position:"relative",zIndex:9999,backgroundColor:"white"},children:(0,r.jsx)(j.A,{children:ep.length>0?ep.map((e,t)=>(0,r.jsx)(N.A,{onClick:()=>eC(e),className:"py-3 px-4 border-b last:border-b-0 border-gray-100 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-medium text-primary-main",children:e.itemName||""}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[e.itemVariety||""," |"," ",e.packingUnit||""]})]})},t)):(0,r.jsx)(N.A,{disabled:!0,className:"py-3 px-4 text-gray-500",children:"검색 결과가 없습니다"})})})})})]}),(0,r.jsx)(u.A,{label:"품목",...ev("itemName"),error:!!eN.itemName,helperText:null===(F=eN.itemName)||void 0===F?void 0:F.message,placeholder:"입력해주세요.",fullWidth:!0,InputLabelProps:{shrink:!0},className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"품종",...ev("itemVariety"),error:!!eN.itemVariety,helperText:null===(W=eN.itemVariety)||void 0===W?void 0:W.message,placeholder:"입력해주세요.",fullWidth:!0,InputLabelProps:{shrink:!0},className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"HS CODE",...ev("hsCode"),error:!!eN.hsCode,helperText:null===(U=eN.hsCode)||void 0===U?void 0:U.message,placeholder:"입력해주세요.",fullWidth:!0,InputLabelProps:{shrink:!0},className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"계약톤수",type:"text",...ev("contractTon"),error:!!eN.contractTon,helperText:null===(E=eN.contractTon)||void 0===E?void 0:E.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"포장단위",...ev("packingUnit"),error:!!eN.packingUnit,helperText:null===(K=eN.packingUnit)||void 0===K?void 0:K.message,placeholder:"입력해주세요.",fullWidth:!0,InputLabelProps:{shrink:!0},className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"})]})]}),(0,r.jsxs)(i.A,{className:"w-full bg-background-paper rounded-2xl shadow-[0px_12px_24px_-4px_rgba(145,158,171,0.12)] shadow-[0px_0px_2px_0px_rgba(145,158,171,0.20)]",children:[(0,r.jsx)(i.A,{className:"px-6 py-6 border-b border-components-divider border-opacity-20",children:(0,r.jsx)(s.A,{className:"text-lg font-semibold text-text-primary font-['Public_Sans'] leading-7",children:"금액 정보"})}),(0,r.jsxs)(i.A,{className:"p-6 flex flex-col gap-6",children:[(0,r.jsx)(u.A,{label:"단가",type:"text",...ev("unitPrice"),error:!!eN.unitPrice,helperText:null===(V=eN.unitPrice)||void 0===V?void 0:V.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"환율",type:"text",...ev("exchangeRate"),error:!!eN.exchangeRate,helperText:null===(B=eN.exchangeRate)||void 0===B?void 0:B.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"관세율",type:"text",...ev("customsTaxRate"),error:!!eN.customsTaxRate,helperText:null===(H=eN.customsTaxRate)||void 0===H?void 0:H.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"관세금액",type:"text",...ev("customTaxAmount"),error:!!eN.customTaxAmount,helperText:null===(q=eN.customTaxAmount)||void 0===q?void 0:q.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"관세수수료",type:"text",...ev("customsFee"),error:!!eN.customsFee,helperText:null===(G=eN.customsFee)||void 0===G?void 0:G.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"검사료",type:"text",...ev("inspectionFee"),error:!!eN.inspectionFee,helperText:null===(J=eN.inspectionFee)||void 0===J?void 0:J.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"기타비용",type:"text",...ev("otherCosts"),error:!!eN.otherCosts,helperText:null===(Q=eN.otherCosts)||void 0===Q?void 0:Q.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"매입 수수료",type:"text",...ev("shippingCost"),error:!!eN.shippingCost,helperText:null===(X=eN.shippingCost)||void 0===X?void 0:X.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsx)(u.A,{label:"판매가",...ev("sellingPrice"),error:!!eN.sellingPrice,helperText:null===(Y=eN.sellingPrice)||void 0===Y?void 0:Y.message,placeholder:"입력해주세요.",fullWidth:!0,className:"[&_.MuiOutlinedInput-root]:h-14 [&_.MuiOutlinedInput-root]:rounded-lg [&_.MuiInputLabel-root]:bg-background-paper [&_.MuiInputLabel-root]:px-1 [&_.MuiInputLabel-root]:text-xs [&_.MuiInputLabel-root]:font-semibold [&_.MuiInputLabel-root]:text-text-secondary [&_.MuiInputLabel-root]:font-['Public_Sans']"}),(0,r.jsxs)(i.A,{className:"flex flex-col sm:flex-row gap-6 justify-end",children:[(0,r.jsx)(a.A,{type:"button",variant:"outlined",onClick:()=>el(!1),className:"h-12 min-w-16 px-4 rounded-lg outline-[1px] outline-offset-[-1px] outline-components-button-outlined outline-opacity-30 text-text-primary font-bold font-['Public_Sans'] hover:bg-gray-50",children:"취소"}),(0,r.jsx)(a.A,{type:"submit",variant:"contained",className:"h-12 min-w-16 px-4 bg-global-inherit-bgcolor rounded-lg text-global-inherit-color font-bold font-['Public_Sans'] hover:bg-opacity-90",children:"추가하기"})]})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.A,{className:"px-6 py-6 border-b border-components-divider border-opacity-20 flex items-center gap-4",children:[(0,r.jsx)(i.A,{className:"min-w-5 px-1.5 py-0.5 bg-primary-main rounded-[500px] flex justify-center items-center",children:(0,r.jsx)(s.A,{className:"text-xs font-bold text-primary-contrast-text font-['Public_Sans']",children:"2"})}),(0,r.jsx)(s.A,{className:"text-lg font-semibold text-text-primary font-['Public_Sans'] leading-7",children:"화물 정보"})]}),(0,r.jsxs)(i.A,{className:"p-6 flex flex-col gap-6",children:[(0,r.jsx)(m.A,{className:"bg-background-paper rounded-2xl shadow-[0px_12px_24px_-4px_rgba(145,158,171,0.12)] shadow-[0px_0px_2px_0px_rgba(145,158,171,0.20)]",children:(0,r.jsxs)(d.A,{children:[(0,r.jsx)(b.A,{children:(0,r.jsxs)(x.A,{className:"bg-background-neutral",children:[(0,r.jsx)(p.A,{className:"w-40 text-text-secondary text-sm font-semibold font-['Public_Sans']",children:"품목"}),(0,r.jsx)(p.A,{className:"w-48 text-text-secondary text-sm font-semibold font-['Public_Sans']",children:"품종"}),(0,r.jsx)(p.A,{className:"flex-1 text-text-secondary text-sm font-semibold font-['Public_Sans']",children:"HS-CODE"}),(0,r.jsx)(p.A,{className:"w-24 text-text-secondary text-sm font-semibold font-['Public_Sans']",children:"계약톤수"}),(0,r.jsx)(p.A,{className:"w-24 text-text-secondary text-sm font-semibold font-['Public_Sans']",children:"포장단위"})]})}),(0,r.jsx)(c.A,{children:eo.map((e,t)=>(0,r.jsxs)(x.A,{className:"border-b border-components-divider border-opacity-20",children:[(0,r.jsx)(p.A,{className:"text-text-primary text-sm font-normal font-['Public_Sans']",children:e.itemName}),(0,r.jsx)(p.A,{className:"text-text-primary text-sm font-normal font-['Public_Sans']",children:e.itemVariety}),(0,r.jsx)(p.A,{className:"text-text-primary text-sm font-normal font-['Public_Sans']",children:e.hsCode}),(0,r.jsx)(p.A,{className:"text-text-primary text-sm font-normal font-['Public_Sans']",children:e.contractTon}),(0,r.jsx)(p.A,{className:"text-text-primary text-sm font-normal font-['Public_Sans']",children:e.packingUnit})]},t))})]})}),(0,r.jsx)(i.A,{className:"flex justify-end",children:(0,r.jsx)(a.A,{variant:"outlined",onClick:()=>{el(!0)},className:"h-12 min-w-16 px-4 rounded-lg outline-[1px] outline-offset-[-1px] outline-primary-48% outline-opacity-50 text-primary-main font-bold font-['Public_Sans']",children:"추가하기"})}),(0,r.jsxs)(i.A,{className:"flex flex-col sm:flex-row gap-6 justify-end",children:[(0,r.jsx)(a.A,{variant:"outlined",onClick:()=>{et(1)},className:"h-12 min-w-16 px-4 rounded-lg outline-[1px] outline-offset-[-1px] outline-components-button-outlined outline-opacity-30 text-text-primary font-bold font-['Public_Sans'] hover:bg-gray-50",children:"이전"}),(0,r.jsx)(a.A,{variant:"contained",onClick:eP,disabled:es,className:"h-12 min-w-16 px-4 bg-global-inherit-bgcolor rounded-lg text-global-inherit-color font-bold font-['Public_Sans'] hover:bg-opacity-90",children:es?(0,r.jsxs)(i.A,{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{size:20,color:"inherit"}),(0,r.jsx)("span",{children:"등록 중..."})]}):"등록"})]})]})]})})})]})}},70591:(e,t,o)=>{Promise.resolve().then(o.bind(o,94658)),Promise.resolve().then(o.bind(o,60927))},77995:(e,t,o)=>{"use strict";o.d(t,{R8:()=>r,gt:()=>l,ye:()=>a});let r=e=>e.value?new Date(e.value).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"",a=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e.value):"",l=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.value)+"/kg":""},94658:(e,t,o)=>{"use strict";o.d(t,{default:()=>b});var r=o(51083),a=o(4315),l=o(47805),n=o(98674),i=o(77995),s=o(1231);let u=(0,s.createServerReference)("402bbc235054c3cdc9088bd11887adfa8400617d10",s.callServer,void 0,s.findSourceMapURL,"saveUserColumnOrder"),d=(0,s.createServerReference)("001b4a0d2f6dd14bf637d89a289041442dd5ec3c65",s.callServer,void 0,s.findSourceMapURL,"getUserColumnOrder"),c=function(e){let t=(0,a.useRef)([]);return{onDragStarted:e=>{t.current=e.api.getColumnState().map(e=>e.colId)},onDragStopped:o=>{let r=o.api.getColumnState().map(e=>e.colId).filter(e=>"detail"!==e);t.current.every((e,t)=>e===r[t])||e(o)}}};var p=o(57886),m=o(39389);function b(){let[e,t]=(0,a.useState)([]),[o,s]=(0,a.useState)([]),[b,x]=(0,a.useState)(!0),[h,g]=(0,a.useState)(null),f=(0,a.useMemo)(()=>({contractNumber:{field:"contractNumber",headerName:"계약 번호",width:130},progressStatus:{field:"progressStatus",headerName:"진행 상태",width:100},contractDate:{field:"contractDate",headerName:"계약일자",valueFormatter:i.R8,width:150},importer:{field:"importer",headerName:"수입처",width:120},contractParty:{field:"contractParty",headerName:"계약처",width:120},estimatedTimeArrival:{field:"estimatedTimeArrival",headerName:"ETA",valueFormatter:i.R8,width:150},arrivalPort:{field:"arrivalPort",headerName:"도착항",width:120},itemName:{field:"itemName",headerName:"품목",width:120},contractTon:{field:"contractTon",headerName:"무게",valueFormatter:e=>"".concat(e.value,"톤"),width:100},unitPrice:{field:"unitPrice",headerName:"단가",valueFormatter:i.ye,width:130},totalPrice:{field:"totalPrice",headerName:"단가 * 무게",valueFormatter:i.ye,width:150},paymentMethod:{field:"paymentMethod",headerName:"결제방식",width:100},warehouseEntryDate:{field:"warehouseEntryDate",headerName:"입고일",valueFormatter:i.R8,width:150},importCostPerKg:{field:"importCostPerKg",headerName:"수입가/kg",valueFormatter:i.gt,width:130},supplyCostPerKg:{field:"supplyCostPerKg",headerName:"수급가/kg",valueFormatter:i.gt,width:130},totalCost:{field:"totalCost",headerName:"총 비용",valueFormatter:i.ye,width:150},totalCostPerKg:{field:"totalCostPerKg",headerName:"총 비용/kg",valueFormatter:i.gt,width:130},sellingPrice:{field:"sellingPrice",headerName:"판매가",valueFormatter:i.ye,width:130},margin:{field:"margin",headerName:"마진",valueFormatter:e=>"".concat(e.value,"%"),width:100},totalProfit:{field:"totalProfit",headerName:"총 이익",valueFormatter:i.ye,width:150},detail:{headerName:"상세",field:"detail",cellRenderer:l.t,sortable:!1,filter:!1,width:100,pinned:"right"}}),[]),_=(0,a.useMemo)(()=>[...o.map(e=>f[e]),f.detail],[f,o]),{onDragStarted:M,onDragStopped:I}=c((0,a.useCallback)(async e=>{let t=e.api.getColumnState().map(e=>e.colId).filter(e=>"detail"!==e);try{let e=await u(t);console.log("Column order save result:",e),e.success&&s(t)}catch(e){console.error("컬럼 순서 저장 중 오류:",e)}},[])),y=(0,p.md)(m.MM);return(0,a.useEffect)(()=>{(async()=>{try{x(!0);let e=await (0,n.o)(),o=await d();t(e),s(o||[]),g(null)}catch(e){g(e instanceof Error?e.message:"데이터를 불러오는데 실패했습니다.")}finally{x(!1)}})()},[y]),(0,r.jsx)(l.A,{columnDefs:_,data:e,loading:b,error:h,onDragStarted:M,onDragStopped:I})}},98674:(e,t,o)=>{"use strict";o.d(t,{o:()=>a});var r=o(1231);let a=(0,r.createServerReference)("002f662226f6eaa0d3ac831331de3c10c5b6874bef",r.callServer,void 0,r.findSourceMapURL,"getPlanData")}},e=>{var t=t=>e(e.s=t);e.O(0,[775,82,308,486,697,768,199,940,382,572,919,632,358],()=>t(70591)),_N_E=e.O()}]);
