(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[884],{32921:(e,t,r)=>{"use strict";r.d(t,{Kg:()=>s,eg:()=>o,f3:()=>i,gt:()=>l,sg:()=>n,ye:()=>a});let a=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e.value):"",n=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let t=Number(e.value);if(isNaN(t))return"";let r=!Number.isInteger(t);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2*!!r,maximumFractionDigits:2*!!r}).format(t)},l=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.value)+"/kg":"",i=e=>e.value?new Date(e.value).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"}):"",o=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let t=Number(e.value);if(isNaN(t))return"";let r=Number(t.toFixed(1));return Number.isInteger(r)?r.toString():r.toFixed(1)},s=e=>{if(!e.value)return"";let t=new Date(e.value),r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return"".concat(r,"/").concat(a,"/").concat(n)}},46122:(e,t,r)=>{"use strict";r.d(t,{default:()=>et});var a=r(22318),n=r(71599),l=r(92262),i=r(95351),o=r(20926),s=r(86956),d=r(49812);let c=(0,d.eU)([]),u=(0,d.eU)(""),m=(0,d.eU)(e=>{let t=e(c),r=e(u);return t.filter(e=>e.companyId===r)}),f=(0,d.eU)(0),p=(0,d.eU)([]),h=(0,d.eU)([]),x=(0,d.eU)([]),g=(0,d.eU)(e=>{var t;let r=e(u),a=e(p).find(e=>e.id===r);return null!==(t=null==a?void 0:a.companyBalance)&&void 0!==t?t:0}),b=(0,d.eU)(null,(e,t,r)=>{let a=e(u);t(p,e=>e.map(e=>e.id===a?{...e,companyBalance:r}:e))}),y=(0,d.eU)(!1);var v=r(6987),j=r(64358);let A=(0,j.createServerReference)("40f52cc539a6e271d29fd30486b65b8cd7308a9c38",j.callServer,void 0,j.findSourceMapURL,"updateCashflowPriorities"),w=(0,j.createServerReference)("001a4d92201e1f2422fe1f2607c7376375b37b9190",j.callServer,void 0,j.findSourceMapURL,"getCashflowList");var S=r(32921);function C(e,t){let r=t;return e.map(e=>(r+=e.amount,{...e,company:e.counterparty,total:r}))}function N(){let e=(0,s.md)(m),t=(0,s.md)(f),r=(0,s.Xr)(c),n=(0,s.Xr)(h),l=(0,s.Xr)(x),d=(0,s.md)(g),u=(0,s.md)(y),p=(0,o.useRef)(null),[b,j]=(0,o.useState)(!1),N=async t=>{let a=t.node.data.type,n=t.node.data.date,l=[];t.api.forEachNodeAfterFilterAndSort(e=>{let t=e.data;t.type===a&&t.date===n&&l.push(t)});let i=l.map((e,t)=>({...e,priority:l.length>1?t+1:null}));r([...e.filter(e=>e.date!==n||e.type!==a),...i].sort((e,t)=>"balance-row"===e.id?-1:"balance-row"===t.id?1:e.date.localeCompare(t.date))),await A(i)},F=async t=>{let a=[];t.api.forEachNodeAfterFilterAndSort(e=>{a.push(e.data)});let n={};a.forEach(e=>{let t="".concat(e.date,"-").concat(e.type);n[t]||(n[t]=[]),n[t].push(e)});let l=[];Object.values(n).forEach(e=>{let t=e.map((t,r)=>({...t,priority:e.length>1?r+1:null}));l.push(...t)}),r(e.filter(e=>!l.some(t=>t.id===e.id)).concat(l).sort((e,t)=>"balance-row"===e.id?-1:"balance-row"===t.id?1:e.date.localeCompare(t.date))),await A(l)};(0,o.useEffect)(()=>{(async()=>{var e;j(!0),r([...await w()]),null===(e=p.current)||void 0===e||e.redrawRows(),j(!1)})()},[t]);let k=[{headerName:"",field:"dragHandle",width:70,minWidth:70,pinned:"left",lockPinned:!0,suppressMovable:!0,filter:!1,sortable:!1,rowDrag:e=>"balance-row"!==e.data.id,cellRenderer:()=>"",hide:!u,suppressHeaderMenuButton:!0},{headerName:"",checkboxSelection:e=>"balance-row"!==e.data.id,field:"checkbox",minWidth:50,flex:1,headerCheckboxSelection:!0,filter:!1,pinned:"left",lockPinned:!0,width:70,hide:u,suppressHeaderMenuButton:!0},{headerName:"날짜",field:"date",minWidth:150,flex:1,filter:!1,sortable:!1,valueFormatter:S.f3,suppressHeaderMenuButton:!0},{headerName:"업체",field:"company",minWidth:120,flex:1,filter:!1,sortable:!1,suppressHeaderMenuButton:!0},{headerName:"금액",field:"amount",minWidth:120,flex:1,filter:!1,sortable:!1,valueFormatter:S.eg,suppressHeaderMenuButton:!0},{headerName:"합계",field:"total",minWidth:120,flex:1,filter:!1,sortable:!1,valueFormatter:S.eg,suppressHeaderMenuButton:!0},{headerName:"우선순위",field:"priority",minWidth:120,flex:1,filter:!1,sortable:!1,cellRenderer:e=>{let{date:t,type:r}=e.data,a=[];return e.api.forEachNode(e=>{e.data&&"balance-row"!==e.data.id&&a.push(e.data)}),a.filter(e=>e.date===t&&e.type===r).length>1?e.value:""},suppressHeaderMenuButton:!0}],z=(0,o.useMemo)(()=>C(e.filter(e=>"expense"===e.type),0),[e]),R={id:"balance-row",date:"",companyId:"balance-row",amount:d,priority:null,type:"income",counterparty:"잔액",createdAt:"",updatedAt:""},W=(0,o.useMemo)(()=>C([R,...e].filter(e=>"income"===e.type),0),[e,d]);return(0,a.jsx)("div",{className:"h-[90vh] flex flex-col overflow-hidden ",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row w-full flex-1 gap-x-6 h-full",children:[(0,a.jsxs)("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"flex flex-row justify-between h-[44px]",children:(0,a.jsx)(v.A,{className:"p-2",variant:"h6",children:"지출"})}),(0,a.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,a.jsx)(i.A,{columnDefs:k,data:z,onSelectionChanged:e=>{n(e.api.getSelectedRows().filter(e=>"balance-row"!==e.id))},onRowDragEnd:N,onDragStopped:F,pagination:!1,loading:b})})]}),(0,a.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between h-[44px]",children:[(0,a.jsx)(v.A,{className:"p-2",variant:"h6",children:"수금"}),(0,a.jsx)("div",{className:"flex flex-row justify-between",children:(0,a.jsx)(v.A,{className:"text-right font-extralight text-gray-500 pb-2 ",sx:{fontSize:"12px",verticalAlign:"bottom",display:"flex",alignItems:"flex-end"},children:"* 금액 단위: 100만원"})})]}),(0,a.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,a.jsx)(i.A,{columnDefs:k,data:W,onSelectionChanged:e=>{l(e.api.getSelectedRows().filter(e=>"balance-row"!==e.id))},onRowDragEnd:N,onDragStopped:F,pagination:!1,loading:b})})]})]})})}let F=(0,j.createServerReference)("00b64dd2f08f0da0d22283cfabcdf36140a8ee1a11",j.callServer,void 0,j.findSourceMapURL,"getCompanyList");var k=r(40017),z=r(57797),R=r(89085),W=r(57598),E=r(49344),I=r(60720);let H=(0,j.createServerReference)("40a94d510b3915e3a63c635bd96468912c4c54a01d",j.callServer,void 0,j.findSourceMapURL,"addCashflow"),M=I.z.string().superRefine((e,t)=>{let r=/^-?\d+(\.\d)?$/;if(isNaN(Number(e))){t.addIssue({code:I.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}if(/^-?\d+\.\d{2,}$/.test(e)){t.addIssue({code:I.z.ZodIssueCode.custom,message:"숫자는 소수점 한 자리까지만 입력 가능합니다."});return}if(/^[-+]?\d*(\.\d+)?([eE].+)?$/.test(e)&&!r.test(e)||!r.test(e)){t.addIssue({code:I.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}}).transform(e=>parseFloat(e)),D=I.z.string().superRefine((e,t)=>{let r=!isNaN(Number(e)),a=/^-?\d+(\.\d)?$/;if(!r){t.addIssue({code:I.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}if(0>parseFloat(e)){t.addIssue({code:I.z.ZodIssueCode.custom,message:"0 이상의 숫자만 입력 가능합니다."});return}if(/^-?\d+\.\d{2,}$/.test(e)){t.addIssue({code:I.z.ZodIssueCode.custom,message:"숫자는 소수점 한 자리까지만 입력 가능합니다."});return}if(/^[-+]?\d*(\.\d+)?([eE].+)?$/.test(e)&&!a.test(e)||!a.test(e)){t.addIssue({code:I.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}}).transform(e=>parseFloat(e)),B=I.z.object({date:I.z.string().min(1,"날짜를 입력해주세요."),counterparty:I.z.string().min(1,"업체를 입력해주세요."),amount:D,type:I.z.string()}),U=[{name:"type",label:"타입",type:"select",required:!0,options:[{label:"수금",value:"income"},{label:"지출",value:"expense"}]},{name:"date",label:"날짜",type:"date",required:!0},{name:"counterparty",label:"업체",type:"text",required:!0},{name:"amount",label:"금액",type:"text",required:!0,endAdornment:"백만원"}];function L(e){let{onClose:t,submitLabel:r="저장"}=e,n=(0,s.Xr)(f),[l,i]=(0,o.useState)({}),[d]=(0,s.fp)(u),c=async e=>{try{await H({...e,amount:Number(e.amount),companyId:d}),n(e=>e+1),i({}),null==t||t()}catch(e){e instanceof Error?i({accountNumber:e.message}):i({accountNumber:"오류가 발생했습니다."})}};return(0,a.jsx)(E.A,{fields:U,onSubmit:c,submitLabel:r,zodSchema:B,fieldErrors:l})}let T=(0,j.createServerReference)("40552366c5a084f356f4b6e83b9cde103c7484dff3",j.callServer,void 0,j.findSourceMapURL,"deleteCashflows"),P=(0,j.createServerReference)("602156a5e525e3461a8ee0614ce7589c663e3a0bc5",j.callServer,void 0,j.findSourceMapURL,"updateCompanyBalance"),O=I.z.object({companyBalance:M}),q=[{name:"companyBalance",label:"잔액",type:"text",required:!0,defaultValue:"0",endAdornment:"백만원"}];function X(e){let{onClose:t,submitLabel:r="설정"}=e,n=(0,s.Xr)(f),[l,i]=(0,o.useState)({}),[d]=(0,s.fp)(u),[c]=(0,s.fp)(g),m=(0,s.Xr)(b),p=async e=>{try{await P(Number(e.companyBalance),d),m(Number(e.companyBalance)),n(e=>e+1),i({}),null==t||t()}catch(e){e instanceof Error?i({accountNumber:e.message}):i({accountNumber:"오류가 발생했습니다."})}};return(0,a.jsx)(E.A,{fields:q,onSubmit:p,submitLabel:r,zodSchema:O,fieldErrors:l,initialValues:{companyBalance:c.toString()}})}let K=(0,j.createServerReference)("60206cb1e2beda33bdfe3cb7e84fe163a508bac3c8",j.callServer,void 0,j.findSourceMapURL,"updateCashflow"),Z=I.z.object({date:I.z.string().min(1,"날짜를 입력해주세요."),counterparty:I.z.string().min(1,"업체를 입력해주세요."),amount:D,type:I.z.string()}),V=[{name:"type",label:"타입",type:"select",required:!0,options:[{label:"수금",value:"income"},{label:"지출",value:"expense"}]},{name:"date",label:"날짜",type:"date",required:!0},{name:"counterparty",label:"업체",type:"text",required:!0},{name:"amount",label:"금액",type:"text",required:!0,endAdornment:"백만원"}];function $(e){let{onClose:t,submitLabel:r="수정"}=e,n=(0,s.Xr)(f),[l,i]=(0,o.useState)({}),[d]=(0,s.fp)(u),c=(0,s.md)(x),m=(0,s.md)(h),p=1===c.length?c[0]:1===m.length?m[0]:void 0,g=async e=>{if(!p){i({accountNumber:"수정할 내역이 선택되지 않았습니다."});return}try{await K({...e,amount:Number(e.amount),companyId:d},p.id),n(e=>e+1),i({}),null==t||t()}catch(e){e instanceof Error?i({accountNumber:e.message}):i({accountNumber:"오류가 발생했습니다."})}};return p?(0,a.jsx)(E.A,{fields:V,onSubmit:g,submitLabel:r,zodSchema:Z,fieldErrors:l,initialValues:{type:p.type,date:p.date,counterparty:p.counterparty,amount:String(p.amount)}}):(0,a.jsx)("div",{children:"수정할 내역을 선택해주세요."})}function _(e){let{open:t,onClose:r}=e;return(0,a.jsxs)(k.A,{open:t,onClose:r,maxWidth:"xs",fullWidth:!0,children:[(0,a.jsx)(z.A,{children:"목록 추가"}),(0,a.jsx)(R.A,{children:(0,a.jsx)(L,{onClose:r})})]})}function G(e){let{open:t,onClose:r}=e,l=(0,s.md)(h),i=(0,s.md)(x),o=(0,s.Xr)(f);async function d(){await T(l.map(e=>e.id)),await T(i.map(e=>e.id)),o(e=>e+1),r()}return(0,a.jsxs)(k.A,{open:t,onClose:r,maxWidth:"xs",fullWidth:!0,children:[(0,a.jsx)(z.A,{children:"내역 삭제 확인"}),(0,a.jsx)(R.A,{sx:{py:3},children:"정말로 선택한 내역을 삭제하시겠습니까?"}),(0,a.jsxs)(W.A,{sx:{px:3,pb:2,pt:0,justifyContent:"flex-end"},children:[(0,a.jsx)(n.A,{variant:"outlined",color:"primary",onClick:r,children:"취소"}),(0,a.jsx)(n.A,{variant:"contained",color:"primary",onClick:d,children:"삭제"})]})]})}function Y(e){let{open:t,onClose:r}=e;return(0,a.jsxs)(k.A,{open:t,onClose:r,maxWidth:"xs",fullWidth:!0,children:[(0,a.jsx)(z.A,{children:"잔액 설정"}),(0,a.jsx)(R.A,{children:(0,a.jsx)(X,{onClose:r})})]})}function J(e){let{open:t,onClose:r}=e;return(0,a.jsxs)(k.A,{open:t,onClose:r,maxWidth:"xs",fullWidth:!0,children:[(0,a.jsx)(z.A,{children:"내역 수정"}),(0,a.jsx)(R.A,{children:(0,a.jsx)($,{onClose:r})})]})}var Q=r(40404),ee=r(39390);function et(){let[e,t]=(0,o.useState)(!1),[r,i]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1),[m,f]=(0,o.useState)(!1),[g,b]=(0,s.fp)(p),[v,j]=(0,s.fp)(u),A=(0,s.md)(x),w=(0,s.md)(h),S=async()=>{let e=await F();b(e),j(""===v?e[0].id:v)},[C,k]=(0,s.fp)(y);return(0,o.useEffect)(()=>{S()},[b]),(0,a.jsxs)("div",{className:"w-full min-h-screen bg-gray-100",children:[(0,a.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"수금 지출 관리"}),(0,a.jsxs)(l.A,{direction:"row",spacing:2,children:[(0,a.jsx)("div",{className:"flex flex-row justify-between items-end flex-shrink-0",style:{minHeight:24},children:(0,a.jsx)(Q.A,{value:v,onChange:(e,t)=>j(t),scrollButtons:"auto",children:g.map(e=>(0,a.jsx)(ee.A,{label:e.name,value:e.id},e.id))})}),(0,a.jsxs)(l.A,{direction:"row",spacing:2,className:"w-full justify-end mb-4 sm:mb-6",children:[(0,a.jsx)(n.A,{variant:"contained",color:"primary",sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),i(!0)},children:"잔액 설정"}),(0,a.jsx)(n.A,{variant:"contained",color:"primary",disabled:0===A.length&&0===w.length,sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),c(!0)},children:"선택 목록 삭제"}),(0,a.jsx)(n.A,{variant:"contained",color:"primary",disabled:(1!==A.length||0!==w.length)&&(0!==A.length||1!==w.length),sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),f(!0)},children:"선택 목록 수정"}),(0,a.jsx)(n.A,{className:"px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-dark transition-colors",variant:"contained",color:"primary",sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),t(!0)},children:"목록 추가"}),(0,a.jsx)(n.A,{variant:"contained",color:"secondary",sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:C?"#f3f4f6":"#64748b",color:C?"#374151":"#fff","&:hover":{backgroundColor:C?"#e5e7eb":"#475569"},boxShadow:"none",border:C?"1px solid #cbd5e1":"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),k(e=>!e)},children:C?"편집 종료":"편집 모드"})]})]}),(0,a.jsx)(N,{})]}),(0,a.jsx)(_,{open:e,onClose:()=>t(!1)}),(0,a.jsx)(Y,{open:r,onClose:()=>i(!1)}),(0,a.jsx)(G,{open:d,onClose:()=>c(!1)}),(0,a.jsx)(J,{open:m,onClose:()=>f(!1)})]})}},49344:(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var a=r(22318),n=r(20926),l=r(92262),i=r(54069),o=r(2877),s=r(17859),d=r(51678),c=r(21768),u=r(60660),m=r(6987),f=r(27849),p=r(46558),h=r(71599),x=r(20063),g=r(90748);function b(e){return e.reduce((e,t)=>{var r,a,n;let l;return l="array"===t.type?null!==(r=t.defaultValue)&&void 0!==r?r:[]:"select"===t.type&&t.options&&t.options.length>0?null!==(a=t.defaultValue)&&void 0!==a?a:t.options[0].value:null!==(n=t.defaultValue)&&void 0!==n?n:"",{...e,[t.name]:l}},{})}function y(e){let{zodSchema:t,steps:r,fields:y,onSubmit:v,submitLabel:j="저장",zodSchemas:A,onCancel:w,fieldErrors:S={},initialValues:C={}}=e,N=!!r,[F,k]=(0,n.useState)(0),z=N?r[F].fields:y,[R,W]=(0,n.useState)(N?{...r.reduce((e,t)=>({...e,...b(t.fields)}),{}),...C}:{...b(y),...C}),[E,I]=(0,n.useState)({}),[H,M]=(0,n.useState)(!1),D=(e,t)=>{W(r=>({...r,[e]:t}))},B=e=>{W(t=>({...t,[e.name]:[...Array.isArray(t[e.name])?t[e.name]:[],b(e.fields)]}))},U=(e,t)=>{W(r=>({...r,[e.name]:Array.isArray(r[e.name])?r[e.name].filter((e,r)=>r!==t):[]}))},L=(e,t,r,a)=>{W(n=>({...n,[e.name]:Array.isArray(n[e.name])?n[e.name].map((e,n)=>n===t?{...e,[r]:a}:e):[]}))},T=e=>{let t={};return e.errors.forEach(e=>{t[e.path[0]]=e.message}),t},P=async e=>{let a;if(!H){if(e.preventDefault(),(a=N&&A?A[F].safeParse(R):t?t.safeParse(R):{success:!0,data:R})&&!a.success){I(T(a.error));return}I({}),M(!0);try{N&&F<r.length-1?k(e=>e+1):await v(R)}finally{M(!1)}}},O=(e,t,r,h,b)=>{let y=S[e.name]||h;switch(e.type){case"text":case"number":case"date":return(0,a.jsx)(i.A,{label:e.label,name:e.name,type:"number"===e.type?"number":e.type,value:t,onChange:t=>r("number"===e.type?Number(t.target.value):t.target.value),fullWidth:!0,error:!!y,helperText:y||e.helperText,InputLabelProps:"date"===e.type?{shrink:!0}:void 0,InputProps:e.endAdornment?{endAdornment:(0,a.jsx)(o.A,{sx:{color:"inherit","& .MuiTypography-root":{color:"inherit"}},position:"end",children:e.endAdornment})}:void 0,sx:{mb:1}},e.name+(null!=b?b:""));case"select":var v;return(0,a.jsxs)(s.A,{fullWidth:!0,error:!!y,sx:{mb:1},children:[(0,a.jsx)(d.A,{children:e.label}),(0,a.jsx)(c.A,{value:t,label:e.label,onChange:e=>r(e.target.value),children:null===(v=e.options)||void 0===v?void 0:v.map(e=>(0,a.jsx)(u.A,{value:e.value,children:e.label},e.value))}),y&&(0,a.jsx)(m.A,{color:"error",variant:"caption",children:y})]},e.name+(null!=b?b:""));case"array":return(0,a.jsxs)(f.A,{sx:{mb:2},children:[(0,a.jsxs)(f.A,{display:"flex",alignItems:"center",mb:1,children:[(0,a.jsx)(m.A,{variant:"subtitle1",children:e.label}),(0,a.jsx)(p.A,{size:"small",onClick:()=>B(e),sx:{ml:1},children:(0,a.jsx)(x.A,{fontSize:"small"})})]}),(Array.isArray(t)?t:[]).map((t,r)=>(0,a.jsxs)(f.A,{sx:{border:"1px solid #eee",borderRadius:1,p:2,mb:1},children:[(0,a.jsxs)(f.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsxs)(m.A,{variant:"body2",children:[e.label," #",r+1]}),(0,a.jsx)(p.A,{size:"small",onClick:()=>U(e,r),children:(0,a.jsx)(g.A,{fontSize:"small"})})]}),function(e){var t;let{field:r,item:f,onChange:p,errors:h}=e;return(0,a.jsx)(l.A,{spacing:1,mt:1,children:null===(t=r.fields)||void 0===t?void 0:t.map(e=>{let t=f[e.name];return(0,a.jsx)(n.Fragment,{children:(()=>{switch(e.type){case"text":case"number":case"date":return(0,a.jsx)(i.A,{label:e.label,name:e.name,type:"number"===e.type?"number":e.type,value:t,onChange:t=>p(e.name,"number"===e.type?Number(t.target.value):t.target.value),fullWidth:!0,error:!!h[e.name],helperText:h[e.name]||e.helperText,InputLabelProps:"date"===e.type?{shrink:!0}:void 0,InputProps:e.endAdornment?{endAdornment:(0,a.jsx)(o.A,{sx:{color:"inherit","& .MuiTypography-root":{color:"inherit"}},position:"end",children:e.endAdornment})}:void 0,sx:{mb:1}});case"select":var r;return(0,a.jsxs)(s.A,{fullWidth:!0,error:!!h[e.name],sx:{mb:1},children:[(0,a.jsx)(d.A,{children:e.label}),(0,a.jsx)(c.A,{value:t,label:e.label,onChange:t=>p(e.name,t.target.value),children:null===(r=e.options)||void 0===r?void 0:r.map(e=>(0,a.jsx)(u.A,{value:e.value,children:e.label},e.value))}),h[e.name]&&(0,a.jsx)(m.A,{color:"error",variant:"caption",children:h[e.name]})]});case"custom":return e.render?e.render({value:t,onChange:t=>p(e.name,t),error:h[e.name]}):null;default:return null}})()},e.name)})})}({field:e,item:t,onChange:(t,a)=>L(e,r,t,a),errors:{}})]},r))]},e.name);case"custom":return e.render?e.render({value:t,onChange:r,error:y}):null;default:return null}};return(0,a.jsxs)("form",{onSubmit:P,children:[N&&(0,a.jsx)(m.A,{variant:"h6",sx:{mb:2},children:r[F].label}),(0,a.jsx)(l.A,{spacing:2,sx:{mt:1},children:z.map(e=>O(e,R[e.name],t=>D(e.name,t),E[e.name]))}),(0,a.jsxs)(f.A,{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:2,mt:2,children:[N&&F>0&&(0,a.jsx)(h.A,{variant:"outlined",color:"primary",onClick:()=>k(e=>e-1),children:"이전"}),"function"==typeof w&&(0,a.jsx)(h.A,{variant:"outlined",color:"primary",onClick:w,children:"취소"}),(0,a.jsx)(h.A,{type:"submit",variant:"contained",color:"primary",sx:{fontWeight:600},disabled:H,children:N&&F<r.length-1?"다음":j})]})]})}},56487:(e,t,r)=>{"use strict";r.d(t,{g:()=>i,w:()=>l});var a=r(82164),n=r(74676);let l=(0,a.A)({breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536}},palette:{primary:{main:"#22C55E",light:"#DCFCE7",dark:"#16A34A",contrastText:"#FFFFFF"},secondary:{main:"#64748B",light:"#94A3B8",dark:"#475569",contrastText:"#FFFFFF"},background:{default:"#F9FAFB",paper:"#FFFFFF"},text:{primary:"#1F2937",secondary:"#4B5563"},divider:"#E5E7EB"},typography:{fontFamily:"var(--font-noto-sans), Arial, sans-serif",h1:{fontSize:"2rem",fontWeight:600,lineHeight:1.2,"@media (min-width:600px)":{fontSize:"2.5rem"}},h2:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.2,"@media (min-width:600px)":{fontSize:"2rem"}},h3:{fontSize:"1.5rem",fontWeight:600,lineHeight:1.3,"@media (min-width:600px)":{fontSize:"1.75rem"}},h4:{fontSize:"1.25rem",fontWeight:600,lineHeight:1.4},h5:{fontSize:"1.125rem",fontWeight:600,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:600,lineHeight:1.6},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.5}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:"8px",padding:"8px 16px",fontWeight:500},sizeSmall:{padding:"6px 12px"},sizeLarge:{padding:"10px 20px"}}},MuiCard:{styleOverrides:{root:{borderRadius:"12px",boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#FFFFFF",borderRight:"1px solid #E5E7EB"}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#FFFFFF",color:"#1F2937"}}},MuiListItem:{styleOverrides:{root:{padding:"8px 16px",borderRadius:"8px",margin:"4px 8px"}}},MuiListItemIcon:{styleOverrides:{root:{minWidth:"40px"}}},MuiTableContainer:{styleOverrides:{root:{borderRadius:"12px",boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"}}}},shape:{borderRadius:8},spacing:8}),i=n.BhY.withParams({accentColor:"#22C55E",selectedRowBackgroundColor:"rgba(34, 197, 94, 0.1)"})},91162:(e,t,r)=>{Promise.resolve().then(r.bind(r,46122))},95351:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(22318),n=r(20926),l=r(5461),i=r(88876),o=r(74676),s=r(56487);function d(e){let{columnDefs:t,data:r,loading:o=!1,error:d=null,onDragStarted:c,onDragStopped:u,onSelectionChanged:m,pagination:f=!0,paginationPageSize:p=15,onRowDragEnd:h}=e,x=(0,n.useRef)(null),g=(0,n.useMemo)(()=>({sortable:!0,resizable:!0,minWidth:100,filter:!0,lockPinned:!0}),[]),b=(0,n.useMemo)(()=>t.filter(e=>e.field).map(e=>({colId:e.field,pinned:e.pinned,flex:e.flex,width:e.width,lockPinned:e.lockPinned})),[t]),y=(0,n.useMemo)(()=>i.z0,[]),v=(0,n.useCallback)(e=>{"checkbox"===e.colDef.field&&e.node.setSelected(!e.node.isSelected())},[]),j=(0,n.useCallback)(e=>{var t;x.current=e.api,null===(t=x.current)||void 0===t||t.applyColumnState({state:b,applyOrder:!0})},[b]);return d?(0,a.jsx)("div",{className:"w-full h-[800px] bg-white flex items-center justify-center overflow-y-auto",children:(0,a.jsx)("p",{className:"text-red-500",children:d})}):(0,a.jsx)("div",{className:"ag-theme-material w-full h-full bg-slate-50 rounded-xl overflow-hidden shadow-lg",children:o?(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})}):(0,a.jsx)("div",{className:"w-full h-full",children:(0,a.jsx)(l.W6,{theme:s.g,rowData:r,columnDefs:t,defaultColDef:g,pagination:f,paginationPageSize:p,rowSelection:"multiple",localeText:y,onDragStarted:c,onDragStopped:u,onGridReady:j,onSelectionChanged:m,rowDragManaged:!0,animateRows:!0,getRowId:e=>e.data.id,onRowDragEnd:h,suppressRowClickSelection:!0,onCellClicked:v})})})}o.syG.registerModules([o.JKr])}},e=>{var t=t=>e(e.s=t);e.O(0,[775,82,426,336,69,41,90,394,52,555,39,77,358],()=>t(91162)),_N_E=e.O()}]);
