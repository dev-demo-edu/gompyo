(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2884],{7481:(e,r,a)=>{"use strict";a.d(r,{default:()=>ea});var t=a(22318),n=a(92262),l=a(66292),o=a(20926);a(95072);var i=a(86956),s=a(49812);let d=(0,s.eU)([]),c=(0,s.eU)(""),u=(0,s.eU)(e=>{let r=e(d),a=e(c);return r.filter(e=>e.companyId===a)}),m=(0,s.eU)(0),p=(0,s.eU)([]),f=(0,s.eU)([]),h=(0,s.eU)([]),x=(0,s.eU)(e=>{var r;let a=e(c),t=e(p).find(e=>e.id===a);return null!==(r=null==t?void 0:t.companyBalance)&&void 0!==r?r:0}),b=(0,s.eU)(null,(e,r,a)=>{let t=e(c);r(p,e=>e.map(e=>e.id===t?{...e,companyBalance:a}:e))}),v=(0,s.eU)(!1);var g=a(6987),y=a(64358);let A=(0,y.createServerReference)("60fbaabfaea3a1c899af0239ec082e15269b3fc84f",y.callServer,void 0,y.findSourceMapURL,"updateCashflowApproval"),j=(0,y.createServerReference)("00ddd1a3d7673f2c9c7277960c374990cb9c1e4c66",y.callServer,void 0,y.findSourceMapURL,"getCashflowList"),C=(0,y.createServerReference)("409c155c283369de2a18ddc66a12afc64dc986c4a4",y.callServer,void 0,y.findSourceMapURL,"updateCashflowPriorities");var w=a(32921);function F(e,r){let a=r;return e.map(e=>(a+=e.amount,{...e,company:e.counterparty,total:a}))}function S(){let e=(0,i.md)(u),r=(0,i.md)(m),a=(0,i.Xr)(d),n=(0,i.Xr)(f),s=(0,i.Xr)(h),c=(0,i.md)(x),p=(0,i.md)(v),b=(0,o.useRef)(null),[y,S]=(0,o.useState)(!1),N=async(e,r)=>{await A(e,r),a([...await j()])},k=async r=>{let t=r.node.data.type,n=r.node.data.date,l=[];r.api.forEachNodeAfterFilterAndSort(e=>{let r=e.data;r.type===t&&r.date===n&&l.push(r)});let o=l.map((e,r)=>({...e,priority:l.length>1?r+1:null}));a([...e.filter(e=>e.date!==n||e.type!==t),...o].sort((e,r)=>"balance-row"===e.id?-1:"balance-row"===r.id?1:e.date.localeCompare(r.date))),await C(o)},R=async r=>{let t=[];r.api.forEachNodeAfterFilterAndSort(e=>{t.push(e.data)});let n={};t.forEach(e=>{let r="".concat(e.date,"-").concat(e.type);n[r]||(n[r]=[]),n[r].push(e)});let l=[];Object.values(n).forEach(e=>{let r=e.map((r,a)=>({...r,priority:e.length>1?a+1:null}));l.push(...r)}),a(e.filter(e=>!l.some(r=>r.id===e.id)).concat(l).sort((e,r)=>"balance-row"===e.id?-1:"balance-row"===r.id?1:e.date.localeCompare(r.date))),await C(l)};(0,o.useEffect)(()=>{(async()=>{var e;S(!0),a([...await j()]),null===(e=b.current)||void 0===e||e.redrawRows(),S(!1)})()},[r]);let E=[{headerName:"",field:"dragHandle",width:70,minWidth:70,pinned:"left",lockPinned:!0,suppressMovable:!0,filter:!1,sortable:!1,rowDrag:e=>"balance-row"!==e.data.id,cellRenderer:()=>"",hide:!p,suppressHeaderMenuButton:!0},{headerName:"",checkboxSelection:e=>"balance-row"!==e.data.id,field:"checkbox",minWidth:50,flex:1,headerCheckboxSelection:!0,filter:!1,pinned:"left",lockPinned:!0,width:70,hide:p,suppressHeaderMenuButton:!0},{headerName:"날짜",field:"date",minWidth:150,flex:1,filter:!1,sortable:!1,valueFormatter:w.f3,suppressHeaderMenuButton:!0},{headerName:"업체",field:"company",minWidth:180,flex:2,filter:!1,sortable:!1,suppressHeaderMenuButton:!0},{headerName:"금액",field:"amount",minWidth:100,flex:.8,filter:!1,sortable:!1,valueFormatter:w.eg,suppressHeaderMenuButton:!0},{headerName:"합계",field:"total",minWidth:100,flex:.8,filter:!1,sortable:!1,valueFormatter:w.eg,suppressHeaderMenuButton:!0},{headerName:"확인",field:"isApproved",minWidth:80,flex:.5,filter:!1,sortable:!1,cellRenderer:e=>{let r=e.data;return"balance-row"===r.id||"expense"!==r.type?"":(0,t.jsx)("div",{className:"checkbox-item center-checkbox",children:(0,t.jsx)("input",{type:"checkbox",className:"checkbox-input",checked:r.isApproved||!1,onChange:e=>N(r.id,e.target.checked)})})},onCellClicked:e=>{let r=e.data;"balance-row"!==r.id&&"expense"===r.type&&N(r.id,!r.isApproved)},suppressHeaderMenuButton:!0},{headerName:"우선순위",field:"priority",minWidth:100,flex:.6,filter:!1,sortable:!1,cellRenderer:e=>{let{date:r,type:a}=e.data,t=[];return e.api.forEachNode(e=>{e.data&&"balance-row"!==e.data.id&&t.push(e.data)}),t.filter(e=>e.date===r&&e.type===a).length>1?e.value:""},suppressHeaderMenuButton:!0}],I=(0,o.useMemo)(()=>F(e.filter(e=>"expense"===e.type),0),[e]),z={id:"balance-row",date:"",companyId:"balance-row",amount:c,priority:null,type:"income",counterparty:"잔액",createdAt:"",updatedAt:"",isApproved:null},W=(0,o.useMemo)(()=>F([z,...e].filter(e=>"income"===e.type),0),[e,c]);return(0,t.jsx)("div",{className:"h-[90vh] md:h-[75vh] flex flex-col overflow-hidden ",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row w-full flex-1 gap-x-6 h-full",children:[(0,t.jsxs)("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[(0,t.jsx)("div",{className:"flex flex-row justify-between h-[44px]",children:(0,t.jsx)(g.A,{className:"p-2",variant:"h6",children:"지출"})}),(0,t.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,t.jsx)(l.A,{columnDefs:E,data:I,onSelectionChanged:e=>{n(e.api.getSelectedRows().filter(e=>"balance-row"!==e.id))},onRowDragEnd:k,onDragStopped:R,pagination:!1,loading:y})})]}),(0,t.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between h-[44px]",children:[(0,t.jsx)(g.A,{className:"p-2",variant:"h6",children:"수금"}),(0,t.jsx)("div",{className:"flex flex-row justify-between",children:(0,t.jsx)(g.A,{className:"text-right font-extralight text-gray-500 pb-2 ",sx:{fontSize:"12px",verticalAlign:"bottom",display:"flex",alignItems:"flex-end"},children:"* 금액 단위: 100만원"})})]}),(0,t.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,t.jsx)(l.A,{columnDefs:E,data:W,onSelectionChanged:e=>{s(e.api.getSelectedRows().filter(e=>"balance-row"!==e.id))},onRowDragEnd:k,onDragStopped:R,pagination:!1,loading:y})})]})]})})}let N=(0,y.createServerReference)("00090ec48fa5ea02289c67c715d8c9cbd15c4a86ce",y.callServer,void 0,y.findSourceMapURL,"getCompanyList");var k=a(40017),R=a(57797),E=a(89085),I=a(57598),z=a(49344),W=a(60720);let M=(0,y.createServerReference)("401828482b3204d51c0b6e12ee93f722e64e52f545",y.callServer,void 0,y.findSourceMapURL,"addCashflow"),D=W.z.string().superRefine((e,r)=>{let a=/^-?\d+(\.\d)?$/;if(isNaN(Number(e))){r.addIssue({code:W.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}if(/^-?\d+\.\d{2,}$/.test(e)){r.addIssue({code:W.z.ZodIssueCode.custom,message:"숫자는 소수점 한 자리까지만 입력 가능합니다."});return}if(/^[-+]?\d*(\.\d+)?([eE].+)?$/.test(e)&&!a.test(e)||!a.test(e)){r.addIssue({code:W.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}}).transform(e=>parseFloat(e)),B=W.z.string().superRefine((e,r)=>{let a=!isNaN(Number(e)),t=/^-?\d+(\.\d)?$/;if(!a){r.addIssue({code:W.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}if(0>parseFloat(e)){r.addIssue({code:W.z.ZodIssueCode.custom,message:"0 이상의 숫자만 입력 가능합니다."});return}if(/^-?\d+\.\d{2,}$/.test(e)){r.addIssue({code:W.z.ZodIssueCode.custom,message:"숫자는 소수점 한 자리까지만 입력 가능합니다."});return}if(/^[-+]?\d*(\.\d+)?([eE].+)?$/.test(e)&&!t.test(e)||!t.test(e)){r.addIssue({code:W.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}}).transform(e=>parseFloat(e)),U=W.z.object({date:W.z.string().min(1,"날짜를 입력해주세요."),counterparty:W.z.string().min(1,"업체를 입력해주세요."),amount:B,type:W.z.string()}),L=[{name:"type",label:"타입",type:"select",required:!0,options:[{label:"수금",value:"income"},{label:"지출",value:"expense"}]},{name:"date",label:"날짜",type:"date",required:!0},{name:"counterparty",label:"업체",type:"text",required:!0},{name:"amount",label:"금액",type:"text",required:!0,endAdornment:"백만원"}];function T(e){let{onClose:r,submitLabel:a="저장"}=e,n=(0,i.Xr)(m),[l,s]=(0,o.useState)({}),[d]=(0,i.fp)(c),u=async e=>{try{await M({...e,amount:Number(e.amount),companyId:d,isApproved:!1}),n(e=>e+1),s({}),null==r||r()}catch(e){e instanceof Error?s({accountNumber:e.message}):s({accountNumber:"오류가 발생했습니다."})}};return(0,t.jsx)(z.A,{fields:L,onSubmit:u,submitLabel:a,zodSchema:U,fieldErrors:l})}let H=(0,y.createServerReference)("40a3418883f39a362dafb7f2a0298ff5cf69081de3",y.callServer,void 0,y.findSourceMapURL,"deleteCashflows"),P=(0,y.createServerReference)("60d0a955336dfac5bf517169f4ab273a5f07855018",y.callServer,void 0,y.findSourceMapURL,"updateCompanyBalance"),q=W.z.object({companyBalance:D}),X=[{name:"companyBalance",label:"잔액",type:"text",required:!0,defaultValue:"0",endAdornment:"백만원"}];function Z(e){let{onClose:r,submitLabel:a="설정"}=e,n=(0,i.Xr)(m),[l,s]=(0,o.useState)({}),[d]=(0,i.fp)(c),[u]=(0,i.fp)(x),p=(0,i.Xr)(b),f=async e=>{try{await P(Number(e.companyBalance),d),p(Number(e.companyBalance)),n(e=>e+1),s({}),null==r||r()}catch(e){e instanceof Error?s({accountNumber:e.message}):s({accountNumber:"오류가 발생했습니다."})}};return(0,t.jsx)(z.A,{fields:X,onSubmit:f,submitLabel:a,zodSchema:q,fieldErrors:l,initialValues:{companyBalance:u.toString()}})}let K=(0,y.createServerReference)("601aa1b718d6ec68845f9e2ca021e92f7256bde5f6",y.callServer,void 0,y.findSourceMapURL,"updateCashflow"),V=W.z.object({date:W.z.string().min(1,"날짜를 입력해주세요."),counterparty:W.z.string().min(1,"업체를 입력해주세요."),amount:B,type:W.z.string()}),$=[{name:"type",label:"타입",type:"select",required:!0,options:[{label:"수금",value:"income"},{label:"지출",value:"expense"}]},{name:"date",label:"날짜",type:"date",required:!0},{name:"counterparty",label:"업체",type:"text",required:!0},{name:"amount",label:"금액",type:"text",required:!0,endAdornment:"백만원"}];function _(e){let{onClose:r,submitLabel:a="수정"}=e,n=(0,i.Xr)(m),[l,s]=(0,o.useState)({}),[d]=(0,i.fp)(c),u=(0,i.md)(h),p=(0,i.md)(f),x=1===u.length?u[0]:1===p.length?p[0]:void 0,b=async e=>{if(!x){s({accountNumber:"수정할 내역이 선택되지 않았습니다."});return}try{await K({...e,amount:Number(e.amount),companyId:d,isApproved:x.isApproved},x.id),n(e=>e+1),s({}),null==r||r()}catch(e){e instanceof Error?s({accountNumber:e.message}):s({accountNumber:"오류가 발생했습니다."})}};return x?(0,t.jsx)(z.A,{fields:$,onSubmit:b,submitLabel:a,zodSchema:V,fieldErrors:l,initialValues:{type:x.type,date:x.date,counterparty:x.counterparty,amount:String(x.amount)}}):(0,t.jsx)("div",{children:"수정할 내역을 선택해주세요."})}var O=a(75746);function Y(e){let{open:r,onClose:a}=e;return(0,t.jsxs)(k.A,{open:r,onClose:a,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(R.A,{children:"목록 추가"}),(0,t.jsx)(E.A,{children:(0,t.jsx)(T,{onClose:a})})]})}function G(e){let{open:r,onClose:a}=e,n=(0,i.md)(f),l=(0,i.md)(h),o=(0,i.Xr)(m);async function s(){await H(n.map(e=>e.id)),await H(l.map(e=>e.id)),o(e=>e+1),a()}return(0,t.jsxs)(k.A,{open:r,onClose:a,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(R.A,{children:"내역 삭제 확인"}),(0,t.jsx)(E.A,{sx:{py:3},children:"정말로 선택한 내역을 삭제하시겠습니까?"}),(0,t.jsxs)(I.A,{sx:{px:3,pb:2,pt:0,justifyContent:"flex-end"},children:[(0,t.jsx)(O.A,{variant:"outline",onClick:a,children:"취소"}),(0,t.jsx)(O.A,{variant:"outline-danger",onClick:s,children:"삭제"})]})]})}function J(e){let{open:r,onClose:a}=e;return(0,t.jsxs)(k.A,{open:r,onClose:a,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(R.A,{children:"잔액 설정"}),(0,t.jsx)(E.A,{children:(0,t.jsx)(Z,{onClose:a})})]})}function Q(e){let{open:r,onClose:a}=e;return(0,t.jsxs)(k.A,{open:r,onClose:a,maxWidth:"xs",fullWidth:!0,children:[(0,t.jsx)(R.A,{children:"내역 수정"}),(0,t.jsx)(E.A,{children:(0,t.jsx)(_,{onClose:a})})]})}var ee=a(40404),er=a(39390);function ea(){let[e,r]=(0,o.useState)(!1),[a,l]=(0,o.useState)(!1),[s,d]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),[x,b]=(0,i.fp)(p),[g,y]=(0,i.fp)(c),A=(0,i.md)(h),j=(0,i.md)(f),C=async()=>{let e=await N();b(e),y(""===g?e[0].id:g)},[w,F]=(0,i.fp)(v);return(0,o.useEffect)(()=>{C()},[b]),(0,t.jsxs)("div",{className:"w-full min-h-screen bg-gray-100",children:[(0,t.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"수금 지출 관리"}),(0,t.jsxs)(n.A,{direction:{xs:"column",lg:"row"},spacing:2,children:[(0,t.jsx)("div",{className:"flex flex-row justify-between items-end flex-shrink-0",style:{minHeight:24},children:(0,t.jsx)(ee.A,{value:g,onChange:(e,r)=>y(r),scrollButtons:"auto",children:x.map(e=>(0,t.jsx)(er.A,{label:e.name,value:e.id},e.id))})}),(0,t.jsx)("div",{className:"overflow-auto w-full h-fit",children:(0,t.jsxs)(n.A,{direction:"row",spacing:2,sx:{width:"100%",justifyContent:{xs:"flex-start",lg:"flex-end"},pb:1,overflowX:"auto",flexWrap:"nowrap",minWidth:"max-content","& > *":{flexShrink:0}},children:[(0,t.jsx)(O.A,{variant:"info",onClick:e=>{e.currentTarget.blur(),r(!0)},children:"목록 추가"}),(0,t.jsx)(O.A,{variant:"primary",onClick:e=>{e.currentTarget.blur(),l(!0)},children:"잔액 설정"}),(0,t.jsx)(O.A,{variant:"primary",disabled:(1!==A.length||0!==j.length)&&(0!==A.length||1!==j.length),onClick:e=>{e.currentTarget.blur(),m(!0)},children:"선택 목록 수정"}),(0,t.jsx)(O.A,{variant:"danger",disabled:0===A.length&&0===j.length,onClick:e=>{e.currentTarget.blur(),d(!0)},children:"선택 목록 삭제"}),(0,t.jsx)(O.A,{variant:"secondary",editMode:w,onClick:e=>{e.currentTarget.blur(),F(e=>!e)},children:w?"편집 종료":"편집 모드"})]})})]}),(0,t.jsx)(S,{})]}),(0,t.jsx)(Y,{open:e,onClose:()=>r(!1)}),(0,t.jsx)(J,{open:a,onClose:()=>l(!1)}),(0,t.jsx)(G,{open:s,onClose:()=>d(!1)}),(0,t.jsx)(Q,{open:u,onClose:()=>m(!1)})]})}},32921:(e,r,a)=>{"use strict";a.d(r,{Kg:()=>s,eg:()=>i,f3:()=>o,gt:()=>l,sg:()=>n,ye:()=>t});let t=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e.value):"",n=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let r=Number(e.value);if(isNaN(r))return"";let a=!Number.isInteger(r);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2*!!a,maximumFractionDigits:2*!!a}).format(r)},l=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.value)+"/kg":"",o=e=>e.value?new Date(e.value).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"}):"",i=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let r=Number(e.value);if(isNaN(r))return"";let a=Number(r.toFixed(1));return Number.isInteger(a)?a.toString():a.toFixed(1)},s=e=>{if(!e.value)return"";let r=new Date(e.value),a=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0");return"".concat(a,"/").concat(t,"/").concat(n)}},49344:(e,r,a)=>{"use strict";a.d(r,{A:()=>g});var t=a(22318),n=a(20926),l=a(92262),o=a(54069),i=a(2877),s=a(17859),d=a(51678),c=a(21768),u=a(60660),m=a(6987),p=a(27849),f=a(46558),h=a(71599),x=a(20063),b=a(90748);function v(e){return e.reduce((e,r)=>{var a,t,n;let l;return l="array"===r.type?null!==(a=r.defaultValue)&&void 0!==a?a:[]:"select"===r.type&&r.options&&r.options.length>0?null!==(t=r.defaultValue)&&void 0!==t?t:r.options[0].value:null!==(n=r.defaultValue)&&void 0!==n?n:"",{...e,[r.name]:l}},{})}function g(e){let{zodSchema:r,steps:a,fields:g,onSubmit:y,submitLabel:A="저장",zodSchemas:j,onCancel:C,fieldErrors:w={},initialValues:F={}}=e,S=!!a,[N,k]=(0,n.useState)(0),R=S?a[N].fields:g,[E,I]=(0,n.useState)(S?{...a.reduce((e,r)=>({...e,...v(r.fields)}),{}),...F}:{...v(g),...F}),[z,W]=(0,n.useState)({}),[M,D]=(0,n.useState)(!1),B=(e,r)=>{I(a=>({...a,[e]:r}))},U=e=>{I(r=>({...r,[e.name]:[...Array.isArray(r[e.name])?r[e.name]:[],v(e.fields)]}))},L=(e,r)=>{I(a=>({...a,[e.name]:Array.isArray(a[e.name])?a[e.name].filter((e,a)=>a!==r):[]}))},T=(e,r,a,t)=>{I(n=>({...n,[e.name]:Array.isArray(n[e.name])?n[e.name].map((e,n)=>n===r?{...e,[a]:t}:e):[]}))},H=e=>{let r={};return e.errors.forEach(e=>{r[e.path[0]]=e.message}),r},P=async e=>{let t;if(!M){if(e.preventDefault(),(t=S&&j?j[N].safeParse(E):r?r.safeParse(E):{success:!0,data:E})&&!t.success){W(H(t.error));return}W({}),D(!0);try{S&&N<a.length-1?k(e=>e+1):await y(E)}finally{D(!1)}}},q=(e,r,a,h,v)=>{let g=w[e.name]||h;switch(e.type){case"text":case"number":case"date":return(0,t.jsx)(o.A,{label:e.label,name:e.name,type:"number"===e.type?"number":e.type,value:r,onChange:r=>a("number"===e.type?Number(r.target.value):r.target.value),fullWidth:!0,error:!!g,helperText:g||e.helperText,InputLabelProps:"date"===e.type?{shrink:!0}:void 0,InputProps:e.endAdornment?{endAdornment:(0,t.jsx)(i.A,{sx:{color:"inherit","& .MuiTypography-root":{color:"inherit"}},position:"end",children:e.endAdornment})}:void 0,sx:{mb:1}},e.name+(null!=v?v:""));case"select":var y;return(0,t.jsxs)(s.A,{fullWidth:!0,error:!!g,sx:{mb:1},children:[(0,t.jsx)(d.A,{children:e.label}),(0,t.jsx)(c.A,{value:r,label:e.label,onChange:e=>a(e.target.value),children:null===(y=e.options)||void 0===y?void 0:y.map(e=>(0,t.jsx)(u.A,{value:e.value,children:e.label},e.value))}),g&&(0,t.jsx)(m.A,{color:"error",variant:"caption",children:g})]},e.name+(null!=v?v:""));case"array":return(0,t.jsxs)(p.A,{sx:{mb:2},children:[(0,t.jsxs)(p.A,{display:"flex",alignItems:"center",mb:1,children:[(0,t.jsx)(m.A,{variant:"subtitle1",children:e.label}),(0,t.jsx)(f.A,{size:"small",onClick:()=>U(e),sx:{ml:1},children:(0,t.jsx)(x.A,{fontSize:"small"})})]}),(Array.isArray(r)?r:[]).map((r,a)=>(0,t.jsxs)(p.A,{sx:{border:"1px solid #eee",borderRadius:1,p:2,mb:1},children:[(0,t.jsxs)(p.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsxs)(m.A,{variant:"body2",children:[e.label," #",a+1]}),(0,t.jsx)(f.A,{size:"small",onClick:()=>L(e,a),children:(0,t.jsx)(b.A,{fontSize:"small"})})]}),function(e){var r;let{field:a,item:p,onChange:f,errors:h}=e;return(0,t.jsx)(l.A,{spacing:1,mt:1,children:null===(r=a.fields)||void 0===r?void 0:r.map(e=>{let r=p[e.name];return(0,t.jsx)(n.Fragment,{children:(()=>{switch(e.type){case"text":case"number":case"date":return(0,t.jsx)(o.A,{label:e.label,name:e.name,type:"number"===e.type?"number":e.type,value:r,onChange:r=>f(e.name,"number"===e.type?Number(r.target.value):r.target.value),fullWidth:!0,error:!!h[e.name],helperText:h[e.name]||e.helperText,InputLabelProps:"date"===e.type?{shrink:!0}:void 0,InputProps:e.endAdornment?{endAdornment:(0,t.jsx)(i.A,{sx:{color:"inherit","& .MuiTypography-root":{color:"inherit"}},position:"end",children:e.endAdornment})}:void 0,sx:{mb:1}});case"select":var a;return(0,t.jsxs)(s.A,{fullWidth:!0,error:!!h[e.name],sx:{mb:1},children:[(0,t.jsx)(d.A,{children:e.label}),(0,t.jsx)(c.A,{value:r,label:e.label,onChange:r=>f(e.name,r.target.value),children:null===(a=e.options)||void 0===a?void 0:a.map(e=>(0,t.jsx)(u.A,{value:e.value,children:e.label},e.value))}),h[e.name]&&(0,t.jsx)(m.A,{color:"error",variant:"caption",children:h[e.name]})]});case"custom":return e.render?e.render({value:r,onChange:r=>f(e.name,r),error:h[e.name]}):null;default:return null}})()},e.name)})})}({field:e,item:r,onChange:(r,t)=>T(e,a,r,t),errors:{}})]},a))]},e.name);case"custom":return e.render?e.render({value:r,onChange:a,error:g}):null;default:return null}};return(0,t.jsxs)("form",{onSubmit:P,children:[S&&(0,t.jsx)(m.A,{variant:"h6",sx:{mb:2},children:a[N].label}),(0,t.jsx)(l.A,{spacing:2,sx:{mt:1},children:R.map(e=>q(e,E[e.name],r=>B(e.name,r),z[e.name]))}),(0,t.jsxs)(p.A,{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:2,mt:2,children:[S&&N>0&&(0,t.jsx)(h.A,{variant:"outlined",color:"primary",onClick:()=>k(e=>e-1),children:"이전"}),"function"==typeof C&&(0,t.jsx)(h.A,{variant:"outlined",color:"primary",onClick:C,children:"취소"}),(0,t.jsx)(h.A,{type:"submit",variant:"contained",color:"primary",sx:{fontWeight:600},disabled:M,children:S&&N<a.length-1?"다음":A})]})]})}},75746:(e,r,a)=>{"use strict";a.d(r,{A:()=>o});var t=a(22318),n=a(71599);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary",r=arguments.length>1?arguments[1]:void 0,a={fontWeight:600,border:"1px solid",boxShadow:"none",whiteSpace:"nowrap","&:disabled":{backgroundColor:"#9CA3AF",color:"#FFFFFF"}};switch(e){case"primary":return{...a,backgroundColor:"#22C55E",color:"#FFFFFF","&:hover":{backgroundColor:"#16A34A"}};case"inherit":return{whiteSpace:"nowrap"};case"secondary":return{...a,backgroundColor:r?"#f3f4f6":"#64748b",color:r?"#374151":"#FFFFFF",border:r?"1px solid #cbd5e1":"none","&:hover":{backgroundColor:r?"#e5e7eb":"#475569"}};case"danger":return{...a,backgroundColor:"#EF4444",color:"#FFFFFF","&:hover":{backgroundColor:"#DC2626"}};case"info":return{...a,backgroundColor:"#3B82F6",color:"#FFFFFF","&:hover":{backgroundColor:"#2563EB"}};case"special":return{...a,backgroundColor:"#6366F1",color:"#FFFFFF","&:hover":{backgroundColor:"#4F46E5"}};case"outline":return{...a,backgroundColor:"transparent",borderColor:"primary",color:"#22C55E","&:hover":{backgroundColor:"#F9FAFB",borderColor:"primary"},"&:disabled":{backgroundColor:"transparent",borderColor:"#9CA3AF",color:"#9CA3AF"}};case"outline-danger":return{...a,backgroundColor:"transparent",borderColor:"#EF4444",color:"#EF4444","&:hover":{backgroundColor:"#FEF2F2",borderColor:"#DC2626",color:"#DC2626"},"&:disabled":{backgroundColor:"transparent",borderColor:"#9CA3AF",color:"#9CA3AF"}};default:return a}};function o(e){let{variant:r="primary",children:a,minWidth:o,sx:i,editMode:s=!1,...d}=e,c=l(r,s),u=r.includes("outline");return(0,t.jsx)(n.A,{variant:"inherit"===r?"contained":u?"outlined":"contained",color:"inherit"===r?"inherit":"primary",sx:{...c,minWidth:o,...i},...d,children:a})}},91162:(e,r,a)=>{Promise.resolve().then(a.bind(a,7481))},95072:()=>{}},e=>{var r=r=>e(e.s=r);e.O(0,[4269,1775,8082,7045,3336,4069,6510,4090,2394,6956,9052,2555,6292,9039,1077,7358],()=>r(91162)),_N_E=e.O()}]);
