(()=>{var e={};e.id=884,e.ids=[884],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9367:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});let r=(0,a(73602).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kang-yean-woo/gompyo/src/containers/cashflow/cashflow.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kang-yean-woo/gompyo/src/containers/cashflow/cashflow.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15808:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"001a4d92201e1f2422fe1f2607c7376375b37b9190":()=>d,"00b64dd2f08f0da0d22283cfabcdf36140a8ee1a11":()=>u,"00bd2c2a9930bebef879427109bccc07530a7a7f8b":()=>g,"401ca5bcac20bc96e98b29d1e50882209728c30174":()=>x,"403c427123a6c3360abad643862bec7f56720c39da":()=>f,"40552366c5a084f356f4b6e83b9cde103c7484dff3":()=>p,"4092f65bf3071451104a94b117d4f94ee2ce1b07b5":()=>c,"40a94d510b3915e3a63c635bd96468912c4c54a01d":()=>m,"40f52cc539a6e271d29fd30486b65b8cd7308a9c38":()=>h,"60206cb1e2beda33bdfe3cb7e84fe163a508bac3c8":()=>y,"602156a5e525e3461a8ee0614ce7589c663e3a0bc5":()=>b});var r=a(17464);a(55414);var n=a(13913),o=a(8613),l=a(18591),i=a(98149),s=a(26763);async function d(){return await n.db.select().from(o.cashflows).orderBy((0,l.Y)(o.cashflows.date),(0,l.Y)(o.cashflows.priority))}async function c(e){return(await n.db.select().from(o.cashflows).where((0,i.eq)(o.cashflows.id,e)))[0]}async function u(){return await n.db.select().from(o.companies).orderBy((0,l.Y)(o.companies.name))}async function f(e){let t=await n.db.select().from(o.cashflows).where((0,i.Uo)((0,i.eq)(o.cashflows.date,e.date),(0,i.eq)(o.cashflows.type,e.type),(0,i.eq)(o.cashflows.companyId,e.companyId))),a=null;return t.length+1}async function m(e){let t=await f(e);return await n.db.insert(o.cashflows).values({...e,id:(0,s.Ak)(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:t})}async function p(e){let t=await n.db.delete(o.cashflows).where((0,i.RV)(o.cashflows.id,e));return await g(),t}async function h(e){for(let t of e)await n.db.update(o.cashflows).set({priority:t.priority}).where((0,i.eq)(o.cashflows.id,t.id))}async function b(e,t){return await n.db.update(o.companies).set({companyBalance:e}).where((0,i.eq)(o.companies.id,t))}async function x(e){let t=await n.db.select().from(o.cashflows).where((0,i.Uo)((0,i.eq)(o.cashflows.date,e.date),(0,i.eq)(o.cashflows.type,e.type),(0,i.eq)(o.cashflows.companyId,e.companyId))).orderBy((0,l.Y)(o.cashflows.priority));for(let e=0;e<t.length;e++)await n.db.update(o.cashflows).set({priority:e+1}).where((0,i.eq)(o.cashflows.id,t[e].id))}async function g(){let e=await n.db.select().from(o.cashflows),t=new Map;for(let a of e){let e=`${a.companyId}_${a.type}_${a.date}`;t.has(e)||t.set(e,[]),t.get(e).push(a)}for(let e of t.values()){e.sort((e,t)=>(e.priority??0)-(t.priority??0));for(let t=0;t<e.length;t++)await n.db.update(o.cashflows).set({priority:t+1}).where((0,i.eq)(o.cashflows.id,e[t].id))}}async function y(e,t){let a=await c(t),r=a?.type!==e.type,l=a?.date!==e.date,s=a?.priority;return(r||l)&&(s=await f(e)),await n.db.update(o.cashflows).set({...e,priority:s,updatedAt:new Date().toISOString()}).where((0,i.eq)(o.cashflows.id,t)),a&&(r||l)&&(await x(a),await x(e)),await n.db.select().from(o.cashflows).where((0,i.eq)(o.cashflows.id,t)).then(e=>e[0])}(0,a(1634).D)([d,c,u,f,m,p,h,b,x,g,y]),(0,r.A)(d,"001a4d92201e1f2422fe1f2607c7376375b37b9190",null),(0,r.A)(c,"4092f65bf3071451104a94b117d4f94ee2ce1b07b5",null),(0,r.A)(u,"00b64dd2f08f0da0d22283cfabcdf36140a8ee1a11",null),(0,r.A)(f,"403c427123a6c3360abad643862bec7f56720c39da",null),(0,r.A)(m,"40a94d510b3915e3a63c635bd96468912c4c54a01d",null),(0,r.A)(p,"40552366c5a084f356f4b6e83b9cde103c7484dff3",null),(0,r.A)(h,"40f52cc539a6e271d29fd30486b65b8cd7308a9c38",null),(0,r.A)(b,"602156a5e525e3461a8ee0614ce7589c663e3a0bc5",null),(0,r.A)(x,"401ca5bcac20bc96e98b29d1e50882209728c30174",null),(0,r.A)(g,"00bd2c2a9930bebef879427109bccc07530a7a7f8b",null),(0,r.A)(y,"60206cb1e2beda33bdfe3cb7e84fe163a508bac3c8",null)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20762:(e,t,a)=>{"use strict";a.d(t,{default:()=>ee});var r=a(11432),n=a(25867),o=a(82423),l=a(53341),i=a(11417),s=a(32246),d=a(90714);let c=(0,d.eU)([]),u=(0,d.eU)(""),f=(0,d.eU)(e=>{let t=e(c),a=e(u);return t.filter(e=>e.companyId===a)}),m=(0,d.eU)(0),p=(0,d.eU)([]),h=(0,d.eU)([]),b=(0,d.eU)([]),x=(0,d.eU)(e=>{let t=e(u),a=e(p).find(e=>e.id===t);return a?.companyBalance??0}),g=(0,d.eU)(null,(e,t,a)=>{let r=e(u);t(p,e=>e.map(e=>e.id===r?{...e,companyBalance:a}:e))}),y=(0,d.eU)(!1);var w=a(84245),v=a(63016);let S=(0,v.createServerReference)("40f52cc539a6e271d29fd30486b65b8cd7308a9c38",v.callServer,void 0,v.findSourceMapURL,"updateCashflowPriorities");v.callServer,v.findSourceMapURL;var j=a(42623);function A(e,t){let a=t;return e.map(e=>(a+=e.amount,{...e,company:e.counterparty,total:a}))}function C(){let e=(0,s.md)(f);(0,s.md)(m);let t=(0,s.Xr)(c),a=(0,s.Xr)(h),n=(0,s.Xr)(b),o=(0,s.md)(x),d=(0,s.md)(y);(0,i.useRef)(null);let[u,p]=(0,i.useState)(!1),g=async a=>{let r=a.node.data.type,n=a.node.data.date,o=[];a.api.forEachNodeAfterFilterAndSort(e=>{let t=e.data;t.type===r&&t.date===n&&o.push(t)});let l=o.map((e,t)=>({...e,priority:o.length>1?t+1:null}));t([...e.filter(e=>e.date!==n||e.type!==r),...l].sort((e,t)=>"balance-row"===e.id?-1:"balance-row"===t.id?1:e.date.localeCompare(t.date))),await S(l)},v=async a=>{let r=[];a.api.forEachNodeAfterFilterAndSort(e=>{r.push(e.data)});let n={};r.forEach(e=>{let t=`${e.date}-${e.type}`;n[t]||(n[t]=[]),n[t].push(e)});let o=[];Object.values(n).forEach(e=>{let t=e.map((t,a)=>({...t,priority:e.length>1?a+1:null}));o.push(...t)}),t(e.filter(e=>!o.some(t=>t.id===e.id)).concat(o).sort((e,t)=>"balance-row"===e.id?-1:"balance-row"===t.id?1:e.date.localeCompare(t.date))),await S(o)},C=[{headerName:"",field:"dragHandle",width:70,minWidth:70,pinned:"left",lockPinned:!0,suppressMovable:!0,filter:!1,sortable:!1,rowDrag:e=>"balance-row"!==e.data.id,cellRenderer:()=>"",hide:!d,suppressHeaderMenuButton:!0},{headerName:"",checkboxSelection:e=>"balance-row"!==e.data.id,field:"checkbox",minWidth:50,flex:1,headerCheckboxSelection:!0,filter:!1,pinned:"left",lockPinned:!0,width:70,hide:d,suppressHeaderMenuButton:!0},{headerName:"날짜",field:"date",minWidth:150,flex:1,filter:!1,sortable:!1,valueFormatter:j.f3,suppressHeaderMenuButton:!0},{headerName:"업체",field:"company",minWidth:120,flex:1,filter:!1,sortable:!1,suppressHeaderMenuButton:!0},{headerName:"금액",field:"amount",minWidth:120,flex:1,filter:!1,sortable:!1,valueFormatter:j.eg,suppressHeaderMenuButton:!0},{headerName:"합계",field:"total",minWidth:120,flex:1,filter:!1,sortable:!1,valueFormatter:j.eg,suppressHeaderMenuButton:!0},{headerName:"우선순위",field:"priority",minWidth:120,flex:1,filter:!1,sortable:!1,cellRenderer:e=>{let{date:t,type:a}=e.data,r=[];return e.api.forEachNode(e=>{e.data&&"balance-row"!==e.data.id&&r.push(e.data)}),r.filter(e=>e.date===t&&e.type===a).length>1?e.value:""},suppressHeaderMenuButton:!0}],N=(0,i.useMemo)(()=>A(e.filter(e=>"expense"===e.type),0),[e]),k={id:"balance-row",date:"",companyId:"balance-row",amount:o,priority:null,type:"income",counterparty:"잔액",createdAt:"",updatedAt:""},R=(0,i.useMemo)(()=>A([k,...e].filter(e=>"income"===e.type),0),[e,o]);return(0,r.jsx)("div",{className:"h-[90vh] flex flex-col overflow-hidden ",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row w-full flex-1 gap-x-6 h-full",children:[(0,r.jsxs)("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[(0,r.jsx)("div",{className:"flex flex-row justify-between h-[44px]",children:(0,r.jsx)(w.A,{className:"p-2",variant:"h6",children:"지출"})}),(0,r.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,r.jsx)(l.A,{columnDefs:C,data:N,onSelectionChanged:e=>{a(e.api.getSelectedRows().filter(e=>"balance-row"!==e.id))},onRowDragEnd:g,onDragStopped:v,pagination:!1,loading:u})})]}),(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between h-[44px]",children:[(0,r.jsx)(w.A,{className:"p-2",variant:"h6",children:"수금"}),(0,r.jsx)("div",{className:"flex flex-row justify-between",children:(0,r.jsx)(w.A,{className:"text-right font-extralight text-gray-500 pb-2 ",sx:{fontSize:"12px",verticalAlign:"bottom",display:"flex",alignItems:"flex-end"},children:"* 금액 단위: 100만원"})})]}),(0,r.jsx)("div",{style:{height:"100%",width:"100%"},children:(0,r.jsx)(l.A,{columnDefs:C,data:R,onSelectionChanged:e=>{n(e.api.getSelectedRows().filter(e=>"balance-row"!==e.id))},onRowDragEnd:g,onDragStopped:v,pagination:!1,loading:u})})]})]})})}let N=(0,v.createServerReference)("00b64dd2f08f0da0d22283cfabcdf36140a8ee1a11",v.callServer,void 0,v.findSourceMapURL,"getCompanyList"),k=(0,v.createServerReference)("602156a5e525e3461a8ee0614ce7589c663e3a0bc5",v.callServer,void 0,v.findSourceMapURL,"updateCompanyBalance"),R=(0,v.createServerReference)("40552366c5a084f356f4b6e83b9cde103c7484dff3",v.callServer,void 0,v.findSourceMapURL,"deleteCashflows");var q=a(82472),I=a(20245),z=a(2494),W=a(74247),D=a(14368),E=a(68634);let H=(0,v.createServerReference)("40a94d510b3915e3a63c635bd96468912c4c54a01d",v.callServer,void 0,v.findSourceMapURL,"addCashflow"),M=E.z.string().superRefine((e,t)=>{let a=/^-?\d+(\.\d)?$/;if(isNaN(Number(e))){t.addIssue({code:E.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}if(/^-?\d+\.\d{2,}$/.test(e)){t.addIssue({code:E.z.ZodIssueCode.custom,message:"숫자는 소수점 한 자리까지만 입력 가능합니다."});return}if(/^[-+]?\d*(\.\d+)?([eE].+)?$/.test(e)&&!a.test(e)||!a.test(e)){t.addIssue({code:E.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}}).transform(e=>parseFloat(e)),U=E.z.string().superRefine((e,t)=>{let a=!isNaN(Number(e)),r=/^-?\d+(\.\d)?$/;if(!a){t.addIssue({code:E.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}if(0>parseFloat(e)){t.addIssue({code:E.z.ZodIssueCode.custom,message:"0 이상의 숫자만 입력 가능합니다."});return}if(/^-?\d+\.\d{2,}$/.test(e)){t.addIssue({code:E.z.ZodIssueCode.custom,message:"숫자는 소수점 한 자리까지만 입력 가능합니다."});return}if(/^[-+]?\d*(\.\d+)?([eE].+)?$/.test(e)&&!r.test(e)||!r.test(e)){t.addIssue({code:E.z.ZodIssueCode.custom,message:"유효한 숫자여야 합니다."});return}}).transform(e=>parseFloat(e)),P=E.z.object({date:E.z.string().min(1,"날짜를 입력해주세요."),counterparty:E.z.string().min(1,"업체를 입력해주세요."),amount:U,type:E.z.string()}),B=[{name:"type",label:"타입",type:"select",required:!0,options:[{label:"수금",value:"income"},{label:"지출",value:"expense"}]},{name:"date",label:"날짜",type:"date",required:!0},{name:"counterparty",label:"업체",type:"text",required:!0},{name:"amount",label:"금액",type:"text",required:!0,endAdornment:"백만원"}];function F({onClose:e,submitLabel:t="저장"}){let a=(0,s.Xr)(m),[n,o]=(0,i.useState)({}),[l]=(0,s.fp)(u),d=async t=>{try{await H({...t,amount:Number(t.amount),companyId:l}),a(e=>e+1),o({}),e?.()}catch(e){e instanceof Error?o({accountNumber:e.message}):o({accountNumber:"오류가 발생했습니다."})}};return(0,r.jsx)(D.A,{fields:B,onSubmit:d,submitLabel:t,zodSchema:P,fieldErrors:n})}let _=E.z.object({companyBalance:M}),$=[{name:"companyBalance",label:"잔액",type:"text",required:!0,defaultValue:"0",endAdornment:"백만원"}];function L({onClose:e,submitLabel:t="설정"}){let a=(0,s.Xr)(m),[n,o]=(0,i.useState)({}),[l]=(0,s.fp)(u),[d]=(0,s.fp)(x),c=(0,s.Xr)(g),f=async t=>{try{await k(Number(t.companyBalance),l),c(Number(t.companyBalance)),a(e=>e+1),o({}),e?.()}catch(e){e instanceof Error?o({accountNumber:e.message}):o({accountNumber:"오류가 발생했습니다."})}};return(0,r.jsx)(D.A,{fields:$,onSubmit:f,submitLabel:t,zodSchema:_,fieldErrors:n,initialValues:{companyBalance:d.toString()}})}let X=(0,v.createServerReference)("60206cb1e2beda33bdfe3cb7e84fe163a508bac3c8",v.callServer,void 0,v.findSourceMapURL,"updateCashflow"),G=E.z.object({date:E.z.string().min(1,"날짜를 입력해주세요."),counterparty:E.z.string().min(1,"업체를 입력해주세요."),amount:U,type:E.z.string()}),K=[{name:"type",label:"타입",type:"select",required:!0,options:[{label:"수금",value:"income"},{label:"지출",value:"expense"}]},{name:"date",label:"날짜",type:"date",required:!0},{name:"counterparty",label:"업체",type:"text",required:!0},{name:"amount",label:"금액",type:"text",required:!0,endAdornment:"백만원"}];function T({onClose:e,submitLabel:t="수정"}){let a=(0,s.Xr)(m),[n,o]=(0,i.useState)({}),[l]=(0,s.fp)(u),d=(0,s.md)(b),c=(0,s.md)(h),f=1===d.length?d[0]:1===c.length?c[0]:void 0,p=async t=>{if(!f){o({accountNumber:"수정할 내역이 선택되지 않았습니다."});return}try{await X({...t,amount:Number(t.amount),companyId:l},f.id),a(e=>e+1),o({}),e?.()}catch(e){e instanceof Error?o({accountNumber:e.message}):o({accountNumber:"오류가 발생했습니다."})}};return f?(0,r.jsx)(D.A,{fields:K,onSubmit:p,submitLabel:t,zodSchema:G,fieldErrors:n,initialValues:{type:f.type,date:f.date,counterparty:f.counterparty,amount:String(f.amount)}}):(0,r.jsx)("div",{children:"수정할 내역을 선택해주세요."})}function Z({open:e,onClose:t}){return(0,r.jsxs)(q.A,{open:e,onClose:t,maxWidth:"xs",fullWidth:!0,children:[(0,r.jsx)(I.A,{children:"목록 추가"}),(0,r.jsx)(z.A,{children:(0,r.jsx)(F,{onClose:t})})]})}function O({open:e,onClose:t}){let a=(0,s.md)(h),o=(0,s.md)(b),l=(0,s.Xr)(m);async function i(){await R(a.map(e=>e.id)),await R(o.map(e=>e.id)),l(e=>e+1),t()}return(0,r.jsxs)(q.A,{open:e,onClose:t,maxWidth:"xs",fullWidth:!0,children:[(0,r.jsx)(I.A,{children:"내역 삭제 확인"}),(0,r.jsx)(z.A,{sx:{py:3},children:"정말로 선택한 내역을 삭제하시겠습니까?"}),(0,r.jsxs)(W.A,{sx:{px:3,pb:2,pt:0,justifyContent:"flex-end"},children:[(0,r.jsx)(n.A,{variant:"outlined",color:"primary",onClick:t,children:"취소"}),(0,r.jsx)(n.A,{variant:"contained",color:"primary",onClick:i,children:"삭제"})]})]})}function Y({open:e,onClose:t}){return(0,r.jsxs)(q.A,{open:e,onClose:t,maxWidth:"xs",fullWidth:!0,children:[(0,r.jsx)(I.A,{children:"잔액 설정"}),(0,r.jsx)(z.A,{children:(0,r.jsx)(L,{onClose:t})})]})}function V({open:e,onClose:t}){return(0,r.jsxs)(q.A,{open:e,onClose:t,maxWidth:"xs",fullWidth:!0,children:[(0,r.jsx)(I.A,{children:"내역 수정"}),(0,r.jsx)(z.A,{children:(0,r.jsx)(T,{onClose:t})})]})}var J=a(68792),Q=a(1816);function ee(){let[e,t]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),[f,x]=(0,i.useState)(!1),[g,w]=(0,s.fp)(p),[v,S]=(0,s.fp)(u),j=(0,s.md)(b),A=(0,s.md)(h),q=(0,s.Xr)(m),I=async()=>{let e=await N();w(e),S(""===v?e[0].id:v)},[z,W]=(0,s.fp)(y);async function D(){var e,t;await k((e=j.filter(e=>"balance-row"!==e.id),t=A,e.reduce((e,t)=>e+t.amount,0)-t.reduce((e,t)=>e+t.amount,0)+(g.find(e=>e.id===v)?.companyBalance??0)),v),await R(j.map(e=>e.id)),await R(A.map(e=>e.id)),q(e=>e+1),I()}return(0,r.jsxs)("div",{className:"w-full min-h-screen bg-gray-100",children:[(0,r.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-4 sm:mb-6",children:"수금 지출 관리"}),(0,r.jsxs)(o.A,{direction:"row",spacing:2,children:[(0,r.jsx)("div",{className:"flex flex-row justify-between items-end flex-shrink-0",style:{minHeight:24},children:(0,r.jsx)(J.A,{value:v,onChange:(e,t)=>S(t),scrollButtons:"auto",children:g.map(e=>(0,r.jsx)(Q.A,{label:e.name,value:e.id},e.id))})}),(0,r.jsxs)(o.A,{direction:"row",spacing:2,className:"w-full justify-end mb-4 sm:mb-6",children:[(0,r.jsx)(n.A,{variant:"contained",color:"primary",sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),l(!0)},children:"잔액 설정"}),(0,r.jsx)(n.A,{variant:"contained",color:"primary",disabled:0===j.length&&0===A.length,sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),c(!0)},children:"선택 목록 삭제"}),(0,r.jsx)(n.A,{variant:"contained",color:"primary",disabled:(1!==j.length||0!==A.length)&&(0!==j.length||1!==A.length),sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),x(!0)},children:"선택 목록 수정"}),(0,r.jsx)(n.A,{variant:"contained",color:"primary",disabled:0===j.length&&0===A.length,sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),D()},children:"선택 목록 반영"}),(0,r.jsx)(n.A,{className:"px-4 py-2 bg-primary-main text-white rounded-lg hover:bg-primary-dark transition-colors",variant:"contained",color:"primary",sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:"#22C55E","&:hover":{backgroundColor:"#16A34A"},boxShadow:"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),t(!0)},children:"목록 추가"}),(0,r.jsx)(n.A,{variant:"contained",color:"secondary",sx:{minWidth:120,minHeight:44,maxHeight:44,fontWeight:600,fontSize:16,lineHeight:1.5,py:0,backgroundColor:z?"#f3f4f6":"#64748b",color:z?"#374151":"#fff","&:hover":{backgroundColor:z?"#e5e7eb":"#475569"},boxShadow:"none",border:z?"1px solid #cbd5e1":"none",alignSelf:"flex-end"},onClick:e=>{e.currentTarget.blur(),W(e=>!e)},children:z?"편집 종료":"편집 모드"})]})]}),(0,r.jsx)(C,{})]}),(0,r.jsx)(Z,{open:e,onClose:()=>t(!1)}),(0,r.jsx)(Y,{open:a,onClose:()=>l(!1)}),(0,r.jsx)(O,{open:d,onClose:()=>c(!1)}),(0,r.jsx)(V,{open:f,onClose:()=>x(!1)})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},42623:(e,t,a)=>{"use strict";a.d(t,{Kg:()=>s,eg:()=>i,f3:()=>l,gt:()=>o,sg:()=>n,ye:()=>r});let r=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e.value):"",n=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let t=Number(e.value);if(isNaN(t))return"";let a=!Number.isInteger(t);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2*!!a,maximumFractionDigits:2*!!a}).format(t)},o=e=>e.value?new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.value)+"/kg":"",l=e=>e.value?new Date(e.value).toLocaleDateString("ko-KR",{month:"long",day:"numeric",weekday:"short"}):"",i=e=>{if(null===e.value||void 0===e.value||""===e.value)return"";let t=Number(e.value);if(isNaN(t))return"";let a=Number(t.toFixed(1));return Number.isInteger(a)?a.toString():a.toFixed(1)},s=e=>{if(!e.value)return"";let t=new Date(e.value),a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${a}/${r}/${n}`}},45786:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(10674),n=a(9367);function o(){return(0,r.jsx)(n.default,{})}},53341:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(11432),n=a(11417),o=a(26093),l=a(38762),i=a(98194),s=a(29871);function d({columnDefs:e,data:t,loading:a=!1,error:i=null,onDragStarted:d,onDragStopped:c,onSelectionChanged:u,pagination:f=!0,paginationPageSize:m=15,onRowDragEnd:p}){let h=(0,n.useRef)(null),b=(0,n.useMemo)(()=>({sortable:!0,resizable:!0,minWidth:100,filter:!0,lockPinned:!0}),[]),x=(0,n.useMemo)(()=>e.filter(e=>e.field).map(e=>({colId:e.field,pinned:e.pinned,flex:e.flex,width:e.width,lockPinned:e.lockPinned})),[e]),g=(0,n.useMemo)(()=>l.z0,[]),y=(0,n.useCallback)(e=>{"checkbox"===e.colDef.field&&e.node.setSelected(!e.node.isSelected())},[]),w=(0,n.useCallback)(e=>{h.current=e.api,h.current?.applyColumnState({state:x,applyOrder:!0})},[x]);return i?(0,r.jsx)("div",{className:"w-full h-[800px] bg-white flex items-center justify-center overflow-y-auto",children:(0,r.jsx)("p",{className:"text-red-500",children:i})}):(0,r.jsx)("div",{className:"ag-theme-material w-full h-full bg-slate-50 rounded-xl overflow-hidden shadow-lg",children:a?(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-3 h-3 bg-[#22C55E] rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})}):(0,r.jsx)("div",{className:"w-full h-full",children:(0,r.jsx)(o.W6,{theme:s.g,rowData:t,columnDefs:e,defaultColDef:b,pagination:f,paginationPageSize:m,rowSelection:"multiple",localeText:g,onDragStarted:d,onDragStopped:c,onGridReady:w,onSelectionChanged:u,rowDragManaged:!0,animateRows:!0,getRowId:e=>e.data.id,onRowDragEnd:p,suppressRowClickSelection:!0,onCellClicked:y})})})}i.syG.registerModules([i.JKr])},53686:(e,t,a)=>{Promise.resolve().then(a.bind(a,9367))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71227:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d});var r=a(65282),n=a(20277),o=a(47757),l=a.n(o),i=a(96002),s={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>i[e]);a.d(t,s);let d={children:["",{children:["cashflow",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,45786)),"/Users/kang-yean-woo/gompyo/src/app/cashflow/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,34421))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,98445)),"/Users/kang-yean-woo/gompyo/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,24327)),"/Users/kang-yean-woo/gompyo/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,68366,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,75895,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,34421))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/kang-yean-woo/gompyo/src/app/cashflow/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/cashflow/page",pathname:"/cashflow",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},87550:e=>{"use strict";e.exports=require("better-sqlite3")},93598:(e,t,a)=>{Promise.resolve().then(a.bind(a,20762))}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[883,323,91,36,718,293,560,289,547,913,368],()=>a(71227));module.exports=r})();
